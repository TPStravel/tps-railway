<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Language" content="ko,en,pt">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temarix V1 - Portal 15</title>
</head>
<body>
<!-- Temarix V1 - Portal 15: 세상을 향한 첫 발걸음 -->
<section class="portal portal-15" id="portal-15">
  <!-- Temarix Logo - Fixed Left Top -->
  <div class="temarix-logo">
    <h1 class="logo-text">🌌 TEMARIX</h1>
    <p class="slogan" data-i18n="common.slogan">당신 안에 숨은 이야기를 말 해 주세요</p>
  </div>

  <!-- Language Selector - Fixed Right Top -->
  <div class="lang-selector">
    <button class="lang-btn active" data-lang="kr">KR</button>
    <button class="lang-btn" data-lang="en">EN</button>
    <button class="lang-btn" data-lang="pt">PT</button>
  </div>

  <!-- Portal Header - Center Top -->
  <div class="portal-header">
    <h1 data-i18n="portal15.title">감정의 문지방 15</h1>
    <h2 data-i18n="portal15.subtitle">세상을 향한 첫 발걸음</h2>
  </div>

  <!-- Message Stream -->
  <div class="message-stream" id="messageStream15">
    <!-- Messages will be added here via JavaScript -->
  </div>

  <!-- User Input Area -->
  <div class="input-area" id="inputArea15" style="display: none;">
    <div class="input-container">
      <textarea 
        id="userInput15" 
        rows="3" 
        placeholder="이제 세상과 나누고 싶은 당신의 빛과 꿈에 대해 조용히 적어보세요..."
        data-i18n-placeholder="portal15.input.placeholder"
      ></textarea>
      <button class="submit-btn" onclick="submitResponse(15)">
        <span data-i18n="portal15.submit">🌟 첫 발걸음 내딛기</span>
      </button>
      <p class="input-hint" data-i18n="portal15.input.hint">Enter 키를 눌러도 전달할 수 있습니다</p>
    </div>
  </div>

  <!-- Next Portal Navigation -->
  <div class="next-portal-nav" id="nextPortalNav15" style="display: none;">
    <div class="nav-buttons">
      <button class="nav-btn yes-btn" onclick="goToNextPortal(16)" data-i18n="common.yes">예</button>
      <button class="nav-btn no-btn" onclick="stayInPortal()" data-i18n="common.no">아니요</button>
    </div>
  </div>

  <!-- Back to Main -->
  <div class="back-to-main">
    <button onclick="window.location.href='portal4.html'" data-i18n="common.back_to_main">
      🏠 메인 포탈로 돌아가기
    </button>
  </div>
</section>

<style>
/* Portal Base Styles */
.portal {
  min-height: 100vh;
  background: linear-gradient(135deg, #1a1b4b 0%, #2d1b69 100%);
  color: white;
  padding: 80px 20px 20px 20px;
  font-family: 'Apple SD Gothic Neo', -apple-system, BlinkMacSystemFont, sans-serif;
  max-width: 100%;
  margin: 0 auto;
  position: relative;
}

/* Logo Glow Animation */
@keyframes glowCycle {
  0%, 100% { text-shadow: 0 0 8px rgba(255,255,255,0.2); }
  50% { text-shadow: 0 0 25px rgba(255,255,255,0.7); }
}

/* Temarix Logo - Fixed Left Top */
.temarix-logo {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
}

.logo-text {
  font-size: 1.8rem;
  font-weight: bold;
  color: #ffffff;
  margin: 0 0 5px 0;
  text-shadow: 0 0 20px rgba(255,255,255,0.3);
}

.slogan {
  color: #bbb;
  font-style: italic;
  font-size: 0.8rem;
  margin: 0;
}

/* Language Selector - Fixed Right Top */
.lang-selector {
  position: fixed;
  top: 20px;
  right: 20px;
  display: flex;
  gap: 5px;
  flex-wrap: wrap;
  max-width: 120px;
  z-index: 1000;
}

.lang-btn {
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.3);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 0.7rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.lang-btn:hover {
  background: rgba(255,255,255,0.2);
}

.lang-btn.active {
  background: #9c27b0;
  border-color: #9c27b0;
}

/* Portal Header - Center Top */
.portal-header {
  text-align: center;
  margin: 40px 0 30px 0;
  padding-top: 40px;
}

.portal-header h1 {
  font-size: 2.2rem;
  margin: 10px 0;
  color: #ffd700;
}

.portal-header h2 {
  font-size: 1.3rem;
  color: #e1bee7;
  font-weight: 300;
}

/* Message Stream */
.message-stream {
  max-height: 60vh;
  overflow-y: auto;
  padding: 20px 0;
  margin-bottom: 20px;
}

.message-card {
  background: rgba(255,255,255,0.1);
  border-radius: 15px;
  padding: 20px;
  margin: 15px 0;
  backdrop-filter: blur(10px);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.6s ease forwards;
}

.message-card.prologue {
  border-left: 4px solid #e1bee7;
}

.message-card.ely {
  border-left: 4px solid #ffd700;
}

.message-card.sora {
  border-left: 4px solid #4dd0e1;
}

.message-card.noah {
  border-left: 4px solid #9c27b0;
}

.message-card.enya {
  border-left: 4px solid #ff9800;
}

.message-card.kaia {
  border-left: 4px solid #607d8b;
}

.message-card.cris {
  border-left: 4px solid #4caf50;
}

.message-card.kael {
  border-left: 4px solid #f44336;
}

.message-card.mira {
  border-left: 4px solid #9e9e9e;
}

.message-card.light {
  border-left: 4px solid #ffffff;
  background: rgba(255,255,255,0.15);
}

.message-card.question {
  border-left: 4px solid #f48fb1;
}

.message-card.user-input {
  border-left: 4px solid #81c784;
  background: rgba(129, 199, 132, 0.1);
}

.character-name {
  font-weight: bold;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.ely .character-name { color: #ffd700; }
.sora .character-name { color: #4dd0e1; }
.noah .character-name { color: #9c27b0; }
.enya .character-name { color: #ff9800; }
.kaia .character-name { color: #607d8b; }
.cris .character-name { color: #4caf50; }
.kael .character-name { color: #f44336; }
.mira .character-name { color: #9e9e9e; }

.message-text {
  line-height: 1.6;
  font-size: 1rem;
}

.typewriter {
  overflow: hidden;
  border-right: 2px solid rgba(255,255,255,0.7);
  white-space: nowrap;
  animation: blink-caret 1s step-end infinite;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: rgba(255,255,255,0.7); }
}

/* Input Area */
.input-area {
  background: rgba(0,0,0,0.3);
  padding: 20px;
  border-radius: 15px;
  margin: 20px 0;
  animation: fadeInUp 0.6s ease forwards;
}

.input-container textarea {
  width: 100%;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 10px;
  padding: 15px;
  color: white;
  font-size: 1rem;
  resize: vertical;
  min-height: 80px;
  box-sizing: border-box;
}

.input-container textarea::placeholder {
  color: rgba(255,255,255,0.6);
}

.submit-btn {
  background: linear-gradient(135deg, #9c27b0, #e1bee7);
  border: none;
  color: white;
  padding: 12px 30px;
  border-radius: 25px;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 10px;
  transition: all 0.3s ease;
  width: 100%;
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(156, 39, 176, 0.4);
}

.input-hint {
  color: rgba(255,255,255,0.6);
  font-size: 0.8rem;
  text-align: center;
  margin: 8px 0 0 0;
}

/* Next Portal Navigation */
.next-portal-nav {
  text-align: center;
  margin: 30px 0;
  animation: fadeInUp 0.6s ease forwards;
}

.nav-buttons {
  display: flex;
  gap: 20px;
  justify-content: center;
}

.nav-btn {
  padding: 12px 30px;
  border-radius: 25px;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.yes-btn {
  background: linear-gradient(135deg, #4caf50, #81c784);
  color: white;
  border-color: #4caf50;
}

.yes-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
}

.no-btn {
  background: rgba(255,255,255,0.1);
  color: white;
  border-color: rgba(255,255,255,0.3);
}

.no-btn:hover {
  background: rgba(255,255,255,0.2);
}

/* Back to Main */
.back-to-main {
  text-align: center;
  margin: 30px 0;
}

.back-to-main button {
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.3);
  color: white;
  padding: 10px 20px;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.back-to-main button:hover {
  background: rgba(255,255,255,0.2);
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .portal {
    padding: 100px 15px 20px 15px;
  }
  
  .temarix-logo {
    top: 15px;
    left: 15px;
  }
  
  .logo-text {
    font-size: 1.4rem;
  }
  
  .slogan {
    font-size: 0.7rem;
  }
  
  .lang-selector {
    top: 15px;
    right: 15px;
    max-width: 100px;
  }
  
  .lang-btn {
    padding: 3px 6px;
    font-size: 0.6rem;
  }
  
  .portal-header h1 {
    font-size: 1.8rem;
  }
  
  .portal-header h2 {
    font-size: 1.1rem;
  }
  
  .message-card {
    padding: 15px;
  }
  
  .nav-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .nav-btn {
    width: 200px;
  }
}
</style>

<script>
// Portal 15 Complete Data with Character Responses
const portal15Data = {
  kr: {
    title: "감정의 문지방 15",
    subtitle: "세상을 향한 첫 발걸음",
    prologue: "진정한 나를 발견했습니다. 이제 그 빛을 세상과 나누어야 할 때가 왔어요. 내가 겪었던 아픔과 치유의 경험, 발견한 지혜와 사랑... 이 모든 것이 누군가에게는 희망의 등불이 될 수 있습니다. 완벽하지 않아도 괜찮아요. 작은 행동부터 시작하면 됩니다. 따뜻한 말 한마디, 진심 어린 미소, 함께하는 시간... 당신만이 줄 수 있는 특별한 무언가가 있어요. 세상을 향한 첫 발걸음을 내딛을 준비가 되었나요?",
    ely: "당신의 빛이 세상에 닿을 때, 누군가의 어둠이 사라질 거예요. 그 첫 발걸음이 용기예요.",
    sora: "치유받은 마음으로 다른 이들을 돌볼 수 있게 되었군요. 그 따뜻함을 나눠주세요.",
    noah: "진정한 성장은 나 혼자 끝나는 게 아니라, 다른 이들과 함께할 때 완성돼요.",
    enya: "당신이 세상에 전하고 싶은 온기를 느껴요. 그 마음만으로도 이미 세상이 변하고 있어요.",
    kaia: "때로는 말없는 동행만으로도 충분해요. 함께 있어주는 것만으로도 큰 선물이죠.",
    cris: "세상에 나가자! 나는 길거리에서 마술 보여주면서 사람들 웃게 만들거야! 웃음 바이러스 퍼뜨리기~ 😄✨",
    kael: "이제 진짜 시작이다. 네가 배운 걸 세상에 제대로 보여줘. 혼자 간직하고 있지 말고.",
    mira: "혹시... 내가 세상에 줄 수 있는 게 정말 있을까요? 누군가에게 도움이 될 수 있을까요?",
    light: "작은 촛불 하나가 어둠을 밝히듯, 당신의 작은 선행도 세상을 변화시킬 수 있어요.",
    question: "이제 세상과 나누고 싶은 당신의 빛은 무엇인가요?",
    input: { 
      placeholder: "이제 세상과 나누고 싶은 당신의 빛과 꿈에 대해 조용히 적어보세요...",
      hint: "Enter 키를 눌러도 전달할 수 있습니다"
    },
    submit: "🌟 첫 발걸음 내딛기",
    slogan: "당신 안에 숨은 이야기를 말 해 주세요",
    response_ely: "그 아름다운 빛을 세상과 나누고 싶다니, 정말 용기 있는 선택이에요. 지금부터 시작하세요.",
    response_sora: "당신이 나누고 싶은 그 빛이 누군가에게는 생명과 같은 희망이 될 거예요.",
    response_noah: "세상을 향한 첫 발걸음을 내디뎠군요. 이제 진정한 여행이 시작됩니다.\n\n👉 다음 문지방으로 함께 가도 괜찮을까요?",
    user_input_prefix: "당신이 세상과 나누고 싶은 빛:",
    yes: "예",
    no: "아니요"
  },
  en: {
    title: "Emotional Threshold 15",
    subtitle: "First Steps Toward the World",
    prologue: "You have discovered your true self. Now it's time to share that light with the world. The pain and healing you've experienced, the wisdom and love you've discovered... all of this can become a beacon of hope for someone. It's okay if you're not perfect. You can start with small actions. A warm word, a sincere smile, time spent together... there's something special that only you can give. Are you ready to take your first steps toward the world?",
    ely: "When your light reaches the world, someone's darkness will disappear. That first step is courage.",
    sora: "With a healed heart, you can now care for others. Please share that warmth.",
    noah: "True growth doesn't end with just yourself, but is completed when shared with others.",
    enya: "I feel the warmth you want to convey to the world. Just that heart is already changing the world.",
    kaia: "Sometimes silent companionship is enough. Just being there together is a great gift.",
    cris: "Let's go out into the world! I'll perform magic on the streets and make people laugh! Spreading the laughter virus~ 😄✨",
    kael: "Now the real beginning starts. Show the world what you've learned properly. Don't keep it to yourself.",
    mira: "Perhaps... is there really something I can give to the world? Can I be of help to someone?",
    light: "Just as a small candle lights up darkness, your small good deeds can change the world too.",
    question: "What is the light you want to share with the world now?",
    input: { 
      placeholder: "Quietly write about the light and dreams you want to share with the world now...",
      hint: "You can also press Enter to submit"
    },
    submit: "🌟 Take the First Step",
    slogan: "Please tell me the story hidden within you",
    response_ely: "Wanting to share that beautiful light with the world is truly a courageous choice. Start now.",
    response_sora: "The light you want to share will become hope like life itself to someone.",
    response_noah: "You've taken the first step toward the world. Now the real journey begins.\n\n👉 Shall we go to the next threshold together?",
    user_input_prefix: "The light you want to share with the world:",
    yes: "Yes",
    no: "No"
  },
  pt: {
    title: "Limiar Emocional 15",
    subtitle: "Primeiros Passos Rumo ao Mundo",
    prologue: "Você descobriu seu verdadeiro eu. Agora é hora de compartilhar essa luz com o mundo. A dor e a cura que você experimentou, a sabedoria e o amor que descobriu... tudo isso pode se tornar um farol de esperança para alguém. Está tudo bem se você não for perfeito. Você pode começar com pequenas ações. Uma palavra carinhosa, um sorriso sincero, tempo passado junto... há algo especial que só você pode dar. Está pronto para dar seus primeiros passos rumo ao mundo?",
    ely: "Quando sua luz alcançar o mundo, a escuridão de alguém desaparecerá. Esse primeiro passo é coragem.",
    sora: "Com um coração curado, agora você pode cuidar de outros. Por favor, compartilhe essa calor.",
    noah: "O verdadeiro crescimento não termina apenas consigo mesmo, mas é completado quando compartilhado com outros.",
    enya: "Sinto o calor que você quer transmitir ao mundo. Apenas esse coração já está mudando o mundo.",
    kaia: "Às vezes a companhia silenciosa é suficiente. Apenas estar lá juntos é um grande presente.",
    cris: "Vamos sair para o mundo! Vou fazer mágica nas ruas e fazer as pessoas rirem! Espalhando o vírus do riso~ 😄✨",
    kael: "Agora o verdadeiro começo inicia. Mostre ao mundo o que você aprendeu adequadamente. Não guarde para si mesmo.",
    mira: "Talvez... existe realmente algo que eu possa dar ao mundo? Posso ser útil para alguém?",
    light: "Assim como uma pequena vela ilumina a escuridão, suas pequenas boas ações também podem mudar o mundo.",
    question: "Qual é a luz que você quer compartilhar com o mundo agora?",
    input: { 
      placeholder: "Escreva silenciosamente sobre a luz e os sonhos que você quer compartilhar com o mundo agora...",
      hint: "Você também pode pressionar Enter para enviar"
    },
    submit: "🌟 Dar o Primeiro Passo",
    slogan: "Por favor, me conte a história escondida dentro de você",
    response_ely: "Querer compartilhar essa bela luz com o mundo é verdadeiramente uma escolha corajosa. Comece agora.",
    response_sora: "A luz que você quer compartilhar se tornará esperança como a própria vida para alguém.",
    response_noah: "Você deu o primeiro passo rumo ao mundo. Agora a verdadeira jornada começa.\n\n👉 Vamos para o próximo limiar juntos?",
    user_input_prefix: "A luz que você quer compartilhar com o mundo:",
    yes: "Sim",
    no: "Não"
  },
  
};

// Current language and state for Portal 15
let currentLang15 = 'kr';
let userInputText15 = '';

// Initialize Portal 15
function initPortal15() {
  displayInitialMessages15();
  setupLanguageSwitching15();
  setupEnterKeySubmission15();
}

// Display initial messages with typing effect
async function displayInitialMessages15() {
  const stream = document.getElementById('messageStream15');
  const messages = [
    { type: 'prologue', content: portal15Data[currentLang15].prologue },
    { type: 'ely', name: '👑 Ely', content: portal15Data[currentLang15].ely },
    { type: 'sora', name: '💧 Sora', content: portal15Data[currentLang15].sora },
    { type: 'noah', name: '🧙‍♂️ Noah', content: portal15Data[currentLang15].noah },
    { type: 'enya', name: '🕯️ Enya', content: portal15Data[currentLang15].enya },
    { type: 'kaia', name: '😶 Kaia', content: portal15Data[currentLang15].kaia },
    { type: 'cris', name: '🃏 Cris', content: portal15Data[currentLang15].cris },
    { type: 'kael', name: '💥 Kael', content: portal15Data[currentLang15].kael },
    { type: 'mira', name: '🌫️ Mira', content: portal15Data[currentLang15].mira },
    { type: 'light', content: portal15Data[currentLang15].light },
    { type: 'question', content: portal15Data[currentLang15].question }
  ];

  for (let i = 0; i < messages.length; i++) {
    const messageCard = createMessageCard15(messages[i]);
    stream.appendChild(messageCard);
    stream.scrollTo({ top: stream.scrollHeight, behavior: 'smooth' });
    
    await typeText15(messageCard.querySelector('.message-text'), messages[i].content);
    await sleep15(1200);
  }
  
  // Show input area after all messages
  document.getElementById('inputArea15').style.display = 'block';
}

// Setup Enter key submission
function setupEnterKeySubmission15() {
  document.getElementById('userInput15').addEventListener('keydown', function(e) {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      submitResponse(15);
    }
  });
}

// Display character responses after user input
async function displayCharacterResponses15(userInput) {
  const stream = document.getElementById('messageStream15');
  
  // Show user input first
  const userCard = createMessageCard15({
    type: 'user-input',
    content: `${portal15Data[currentLang15].user_input_prefix}\n"${userInput}"`
  });
  stream.appendChild(userCard);
  stream.scrollTo({ top: stream.scrollHeight, behavior: 'smooth' });
  await typeText15(userCard.querySelector('.message-text'), userCard.querySelector('.message-text').textContent);
  await sleep15(1500);
  
  // Character responses
  const responses = [
    { type: 'ely', name: '👑 Ely', content: `"${userInput}"... ${portal15Data[currentLang15].response_ely}` },
    { type: 'sora', name: '💧 Sora', content: `${portal15Data[currentLang15].response_sora}` },
    { type: 'noah', name: '🧙‍♂️ Noah', content: `"${userInput}" ${portal15Data[currentLang15].response_noah}` }
  ];

  for (let i = 0; i < responses.length; i++) {
    const responseCard = createMessageCard15(responses[i]);
    stream.appendChild(responseCard);
    stream.scrollTo({ top: stream.scrollHeight, behavior: 'smooth' });
    
    await typeText15(responseCard.querySelector('.message-text'), responses[i].content);
    await sleep15(1500);
  }
  
  // Show navigation buttons
  document.getElementById('nextPortalNav15').style.display = 'block';
}

function createMessageCard15(message) {
  const card = document.createElement('div');
  card.className = `message-card ${message.type}`;
  
  let cardHTML = '';
  if (message.name) {
    cardHTML += `<div class="character-name">${message.name}</div>`;
  }
  cardHTML += `<div class="message-text">${message.content || ''}</div>`;
  
  card.innerHTML = cardHTML;
  return card;
}

async function typeText15(element, text, speed = 80) {
  return new Promise((resolve) => {
    let i = 0;
    element.textContent = '';
    element.classList.add('typewriter');
    
    const timer = setInterval(() => {
      if (i < text.length) {
        element.textContent += text.charAt(i);
        i++;
      } else {
        clearInterval(timer);
        element.classList.remove('typewriter');
        resolve();
      }
    }, speed);
  });
}

function sleep15(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

function setupLanguageSwitching15() {
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const newLang = btn.dataset.lang;
      if (portal15Data[newLang] && newLang !== currentLang15) {
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentLang15 = newLang;
        document.getElementById('messageStream15').innerHTML = '';
        document.getElementById('inputArea15').style.display = 'none';
        document.getElementById('nextPortalNav15').style.display = 'none';
        displayInitialMessages15();
        updatePortalTexts15();
      }
    });
  });
}

function updatePortalTexts15() {
  // Update title and subtitle
  document.querySelector('[data-i18n="portal15.title"]').textContent = portal15Data[currentLang15].title;
  document.querySelector('[data-i18n="portal15.subtitle"]').textContent = portal15Data[currentLang15].subtitle;
  
  // Update slogan
  document.querySelector('[data-i18n="common.slogan"]').textContent = portal15Data[currentLang15].slogan;
  
  // Update placeholder and hint
  document.getElementById('userInput15').placeholder = portal15Data[currentLang15].input.placeholder;
  document.querySelector('[data-i18n="portal15.input.hint"]').textContent = portal15Data[currentLang15].input.hint;
  
  // Update submit button
  document.querySelector('[data-i18n="portal15.submit"]').textContent = portal15Data[currentLang15].submit;
  
  // Update navigation buttons
  const yesBtn = document.querySelector('[data-i18n="common.yes"]');
  const noBtn = document.querySelector('[data-i18n="common.no"]');
  if (yesBtn) yesBtn.textContent = portal15Data[currentLang15].yes;
  if (noBtn) noBtn.textContent = portal15Data[currentLang15].no;
  
  // Update back to main button
  document.querySelector('[data-i18n="common.back_to_main"]').textContent = 
    currentLang15 === 'kr' ? '🏠 메인 포탈로 돌아가기' :
    currentLang15 === 'en' ? '🏠 Back to Main Portal' :
    currentLang15 === 'pt' ? '🏠 Voltar ao Portal Principal' :
    '🏠 메인 포탈로 돌아가기';
}

function submitResponse(portalNum) {
  if (portalNum !== 15) return;
  
  const input = document.getElementById(`userInput${portalNum}`);
  const response = input.value.trim();
  
  if (response) {
    userInputText15 = response;
    
    // Hide input area
    document.getElementById(`inputArea${portalNum}`).style.display = 'none';
    
    // Display character responses
    displayCharacterResponses15(response);
    
    // Clear input
    input.value = '';
  } else {
    // No alert, just focus on input
    input.focus();
    input.style.borderColor = '#f48fb1';
    setTimeout(() => {
      input.style.borderColor = 'rgba(255,255,255,0.3)';
    }, 2000);
  }
}

function stayInPortal() {
  document.getElementById('nextPortalNav15').style.display = 'none';
  document.getElementById('inputArea15').style.display = 'block';
  document.getElementById('userInput15').focus();
}

function goToNextPortal(nextNumber) {
  const nextUrl = `temarix_v1_${String(nextNumber).padStart(2, '0')}.html`;
  window.location.href = nextUrl;
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  if (document.getElementById('portal-15')) {
    initPortal15();
  }
});
</script>
</body>
</html>