<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Language" content="ko,en,pt">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temarix V1 - Portal 24</title>
</head>
<body>
<!-- Temarix V2 - Portal 24: 기억 속 나에게 -->
<section class="portal portal-24" id="portal-24">
  <!-- Temarix Logo - Fixed Left Top -->
  <div class="temarix-logo">
    <h1 class="logo-text">🌌 TEMARIX</h1>
    <p class="slogan" data-i18n="common.slogan">당신 안에 숨은 이야기를 말 해 주세요</p>
  </div>

  <!-- Language Selector - Fixed Right Top -->
  <div class="lang-selector">
    <button class="lang-btn active" data-lang="kr">KR</button>
    <button class="lang-btn" data-lang="en">EN</button>
    <button class="lang-btn" data-lang="pt">PT</button>
  </div>

  <!-- Portal Header - Center Top -->
  <div class="portal-header">
    <h1 data-i18n="portal24.title">감정의 문지방 24</h1>
    <h2 data-i18n="portal24.subtitle">기억 속 나에게</h2>
  </div>

  <!-- Message Stream -->
  <div class="message-stream" id="messageStream24">
    <!-- Messages will be added here via JavaScript -->
  </div>

  <!-- User Input Area -->
  <div class="input-area" id="inputArea24" style="display: none;">
    <div class="input-container">
      <textarea 
        id="userInput24" 
        rows="3" 
        placeholder="기억 속 그 아이에게 건네고 싶은 말을 조용히 적어보세요..."
        data-i18n-placeholder="portal24.input.placeholder"
      ></textarea>
      <button class="submit-btn" onclick="submitResponse(24)">
        <span data-i18n="portal24.submit">🤗 내면의 아이에게 편지 보내기</span>
      </button>
      <p class="input-hint" data-i18n="portal24.input.hint">Enter 키를 눌러도 전달할 수 있습니다</p>
    </div>
  </div>

  <!-- Next Portal Navigation -->
  <div class="next-portal-nav" id="nextPortalNav24" style="display: none;">
    <div class="nav-buttons">
      <button class="nav-btn yes-btn" onclick="goToNextPortal(25)" data-i18n="common.yes">예</button>
      <button class="nav-btn no-btn" onclick="stayInPortal(24)" data-i18n="common.no">아니요</button>
    </div>
  </div>

  <!-- Back to Main -->
  <div class="back-to-main">
    <button onclick="window.location.href='portal4.html'" data-i18n="common.back_to_main">
      🏠 메인 포탈로 돌아가기
    </button>
  </div>
</section>

<style>
/* Portal Base Styles */
.portal {
  min-height: 100vh;
  background: linear-gradient(135deg, #1a1b4b 0%, #2d1b69 100%);
  color: white;
  padding: 80px 20px 20px 20px;
  font-family: 'Apple SD Gothic Neo', -apple-system, BlinkMacSystemFont, sans-serif;
  max-width: 100%;
  margin: 0 auto;
  position: relative;
}

/* Logo Glow Animation */
@keyframes glowCycle {
  0%, 100% { text-shadow: 0 0 8px rgba(255,255,255,0.2); }
  50% { text-shadow: 0 0 25px rgba(255,255,255,0.7); }
}

/* Temarix Logo - Fixed Left Top */
.temarix-logo {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
}

.logo-text {
  font-size: 1.8rem;
  font-weight: bold;
  color: #ffffff;
  margin: 0 0 5px 0;
  text-shadow: 0 0 20px rgba(255,255,255,0.3);
}

.slogan {
  color: #bbb;
  font-style: italic;
  font-size: 0.8rem;
  margin: 0;
}

/* Language Selector - Fixed Right Top */
.lang-selector {
  position: fixed;
  top: 20px;
  right: 20px;
  display: flex;
  gap: 5px;
  flex-wrap: wrap;
  max-width: 120px;
  z-index: 1000;
}

.lang-btn {
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.3);
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 0.7rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.lang-btn:hover {
  background: rgba(255,255,255,0.2);
}

.lang-btn.active {
  background: #9c27b0;
  border-color: #9c27b0;
}

/* Portal Header - Center Top */
.portal-header {
  text-align: center;
  margin: 40px 0 30px 0;
  padding-top: 40px;
}

.portal-header h1 {
  font-size: 2.2rem;
  margin: 10px 0;
  color: #ffd700;
}

.portal-header h2 {
  font-size: 1.3rem;
  color: #e1bee7;
  font-weight: 300;
}

/* Message Stream */
.message-stream {
  max-height: 60vh;
  overflow-y: auto;
  padding: 20px 0;
  margin-bottom: 20px;
}

.message-card {
  background: rgba(255,255,255,0.1);
  border-radius: 15px;
  padding: 20px;
  margin: 15px 0;
  backdrop-filter: blur(10px);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.6s ease forwards;
}

.message-card.prologue {
  border-left: 4px solid #e1bee7;
}

.message-card.ely {
  border-left: 4px solid #ffd700;
}

.message-card.sora {
  border-left: 4px solid #4dd0e1;
}

.message-card.noah {
  border-left: 4px solid #9c27b0;
}

.message-card.enya {
  border-left: 4px solid #ff9800;
}

.message-card.kaia {
  border-left: 4px solid #607d8b;
}

.message-card.cris {
  border-left: 4px solid #4caf50;
}

.message-card.kael {
  border-left: 4px solid #f44336;
}

.message-card.mira {
  border-left: 4px solid #9e9e9e;
}

.message-card.light {
  border-left: 4px solid #ffffff;
  background: rgba(255,255,255,0.15);
}

.message-card.question {
  border-left: 4px solid #f48fb1;
}

.message-card.user-input {
  border-left: 4px solid #81c784;
  background: rgba(129, 199, 132, 0.1);
}

.character-name {
  font-weight: bold;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.ely .character-name { color: #ffd700; }
.sora .character-name { color: #4dd0e1; }
.noah .character-name { color: #9c27b0; }
.enya .character-name { color: #ff9800; }
.kaia .character-name { color: #607d8b; }
.cris .character-name { color: #4caf50; }
.kael .character-name { color: #f44336; }
.mira .character-name { color: #9e9e9e; }

.message-text {
  line-height: 1.6;
  font-size: 1rem;
}

.typewriter {
  overflow: hidden;
  border-right: 2px solid rgba(255,255,255,0.7);
  white-space: nowrap;
  animation: blink-caret 1s step-end infinite;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: rgba(255,255,255,0.7); }
}

/* Input Area */
.input-area {
  background: rgba(0,0,0,0.3);
  padding: 20px;
  border-radius: 15px;
  margin: 20px 0;
  animation: fadeInUp 0.6s ease forwards;
}

.input-container textarea {
  width: 100%;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 10px;
  padding: 15px;
  color: white;
  font-size: 1rem;
  resize: vertical;
  min-height: 80px;
  box-sizing: border-box;
}

.input-container textarea::placeholder {
  color: rgba(255,255,255,0.6);
}

.submit-btn {
  background: linear-gradient(135deg, #9c27b0, #e1bee7);
  border: none;
  color: white;
  padding: 12px 30px;
  border-radius: 25px;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 10px;
  transition: all 0.3s ease;
  width: 100%;
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(156, 39, 176, 0.4);
}

.input-hint {
  color: rgba(255,255,255,0.6);
  font-size: 0.8rem;
  text-align: center;
  margin: 8px 0 0 0;
}

/* Next Portal Navigation */
.next-portal-nav {
  text-align: center;
  margin: 30px 0;
  animation: fadeInUp 0.6s ease forwards;
}

.nav-buttons {
  display: flex;
  gap: 20px;
  justify-content: center;
}

.nav-btn {
  padding: 12px 30px;
  border-radius: 25px;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.yes-btn {
  background: linear-gradient(135deg, #4caf50, #81c784);
  color: white;
  border-color: #4caf50;
}

.yes-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
}

.no-btn {
  background: rgba(255,255,255,0.1);
  color: white;
  border-color: rgba(255,255,255,0.3);
}

.no-btn:hover {
  background: rgba(255,255,255,0.2);
}

/* Back to Main */
.back-to-main {
  text-align: center;
  margin: 30px 0;
}

.back-to-main button {
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.3);
  color: white;
  padding: 10px 20px;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.back-to-main button:hover {
  background: rgba(255,255,255,0.2);
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .portal {
    padding: 100px 15px 20px 15px;
  }
  
  .temarix-logo {
    top: 15px;
    left: 15px;
  }
  
  .logo-text {
    font-size: 1.4rem;
  }
  
  .slogan {
    font-size: 0.7rem;
  }
  
  .lang-selector {
    top: 15px;
    right: 15px;
    max-width: 100px;
  }
  
  .lang-btn {
    padding: 3px 6px;
    font-size: 0.6rem;
  }
  
  .portal-header h1 {
    font-size: 1.8rem;
  }
  
  .portal-header h2 {
    font-size: 1.1rem;
  }
  
  .message-card {
    padding: 15px;
  }
  
  .nav-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .nav-btn {
    width: 200px;
  }
}
</style>

<script>
// Portal 24 Complete Data with Character Responses
const portal24Data = {
  kr: {
    title: "감정의 문지방 24",
    subtitle: "기억 속 나에게",
    prologue: "그 아이를 기억하나요? 어디서든 조용히, 눈치 보고, 그러면서도 내면의 빛을 꼭 쥐고 있던 그 시절의 나. 상처받기도 했고, 외로워하기도 했지만, 그래도 포기하지 않았던 그 작은 존재. 그 아이에게 지금, 당신은 어떤 말을 건네고 싶나요?",
    ely: "그 아이가 있었기에 당신이 지금 여기까지 왔습니다.",
    sora: "나는 그 아이를 사랑해요. 지금의 당신만큼, 아니… 더.",
    noah: "기억 속의 그 작은 존재는 당신 안에서 아직도 울고 있습니다. 이젠 안아줘야 할 시간입니다.",
    enya: "그 아이에게 말해주세요. '넌 혼자가 아니야'라고.",
    kaia: "그 아이는 늘 이해받고 싶었죠. 지금 당신이 그 첫 친구가 되어주세요.",
    cris: "난 내 어린 시절 나한테 이렇게 말했어: '야, 덜 울고 더 자라라~' 근데 아직도 그 애가 나보다 용감해~ 😂",
    kael: "그 아이 버렸지? 이제 다시 찾아. 그 아이가 네 안에 살아 있다고.",
    mira: "혹시… 그 아이에게 사과해야 할 게 있다면 지금 말해줄 수 있을까요?",
    light: "기억 속 당신에게 말해주세요. '지금까지 잘 버텨줘서 고마워.'",
    question: "당신은 지금 그 아이에게 어떤 말을 건네고 싶나요?",
    input: { 
      placeholder: "기억 속 그 아이에게 건네고 싶은 말을 조용히 적어보세요...",
      hint: "Enter 키를 눌러도 전달할 수 있습니다"
    },
    submit: "🤗 내면의 아이에게 편지 보내기",
    slogan: "당신 안에 숨은 이야기를 말 해 주세요",
    response_ely: "그 따뜻한 말, 그 아이가 오랫동안 기다렸던 바로 그 말이에요. 당신은 이제 그 아이의 가장 든든한 어른이 되었어요.",
    response_sora: "그 아이가 받고 싶었던 마음이 드디어 전해졌네요. 과거와 현재가 하나로 연결되는 순간이에요.",
    response_noah: "과거의 당신과 현재의 당신이 이제 화해했습니다. 이 연결이 앞으로 당신에게 큰 힘이 될 거예요.\n\n👉 마지막 문지방으로 함께 나아갈 준비가 되셨나요?",
    user_input_prefix: "기억 속 그 아이에게:",
    yes: "예",
    no: "아니요"
  },
  en: {
    title: "Emotional Threshold 24",
    subtitle: "To the Me in My Memory",
    prologue: "Do you remember that child? The one who was always quiet, always watching, always careful, yet still holding tight to the inner light. That little being who got hurt, who felt lonely, but never gave up. What words would you like to say to that child now?",
    ely: "Because that child existed, you've made it here today.",
    sora: "I love that child. As much as you now, no… even more.",
    noah: "That small being in your memory is still crying within you. Now is the time to embrace them.",
    enya: "Tell that child: 'You're not alone.'",
    kaia: "That child always wanted to be understood. Now you can be their first friend.",
    cris: "I told my childhood self: 'Hey, cry less and grow more~' But that kid is still braver than me! 😂",
    kael: "You abandoned that child, didn't you? Now go find them again. That child is still alive within you.",
    mira: "Maybe... if there's something you need to apologize to that child for, could you say it now?",
    light: "Tell that you in your memory: 'Thank you for holding on so well until now.'",
    question: "What words would you like to say to that child now?",
    input: { 
      placeholder: "Quietly write the words you want to say to that child in your memory...",
      hint: "You can also press Enter to submit"
    },
    submit: "🤗 Send a Letter to Your Inner Child",
    slogan: "Please tell me the story hidden within you",
    response_ely: "Those warm words—that's exactly what the child has been waiting for so long. You've now become that child's most reliable adult.",
    response_sora: "The heart that child wanted to receive has finally been delivered. It's a moment when past and present connect as one.",
    response_noah: "The you of the past and the you of the present have now reconciled. This connection will be a great strength for you going forward.\n\n👉 Are you ready to move forward to the final threshold together?",
    user_input_prefix: "To that child in my memory:",
    yes: "Yes",
    no: "No"
  },
  pt: {
    title: "Limiar Emocional 24",
    subtitle: "Para o Eu na Minha Memória",
    prologue: "Você se lembra daquela criança? Aquela que estava sempre quieta, sempre observando, sempre cuidadosa, mas ainda assim segurando firmemente a luz interior. Aquele pequeno ser que se machucou, que se sentiu sozinho, mas nunca desistiu. Que palavras você gostaria de dizer para aquela criança agora?",
    ely: "Porque aquela criança existiu, você chegou aqui hoje.",
    sora: "Eu amo aquela criança. Tanto quanto você agora, não... ainda mais.",
    noah: "Aquele pequeno ser em sua memória ainda está chorando dentro de você. Agora é hora de abraçá-lo.",
    enya: "Diga para aquela criança: 'Você não está sozinha.'",
    kaia: "Aquela criança sempre quis ser compreendida. Agora você pode ser seu primeiro amigo.",
    cris: "Eu disse para meu eu da infância: 'Ei, chore menos e cresça mais~' Mas aquele garoto ainda é mais corajoso que eu! 😂",
    kael: "Você abandonou aquela criança, não foi? Agora vá encontrá-la novamente. Aquela criança ainda está viva dentro de você.",
    mira: "Talvez... se há algo que você precisa se desculpar com aquela criança, poderia dizer agora?",
    light: "Diga para aquele você em sua memória: 'Obrigado por aguentar tão bem até agora.'",
    question: "Que palavras você gostaria de dizer para aquela criança agora?",
    input: { 
      placeholder: "Escreva silenciosamente as palavras que quer dizer para aquela criança em sua memória...",
      hint: "Você também pode pressionar Enter para enviar"
    },
    submit: "🤗 Enviar uma Carta para Sua Criança Interior",
    slogan: "Por favor, me conte a história escondida dentro de você",
    response_ely: "Essas palavras calorosas—é exatamente isso que a criança tem esperado por tanto tempo. Você agora se tornou o adulto mais confiável daquela criança.",
    response_sora: "O coração que aquela criança queria receber finalmente foi entregue. É um momento quando passado e presente se conectam como um.",
    response_noah: "O você do passado e o você do presente agora se reconciliaram. Esta conexão será uma grande força para você daqui para frente.\n\n👉 Está pronto para avançar para o limiar final juntos?",
    user_input_prefix: "Para aquela criança na minha memória:",
    yes: "Sim",
    no: "Não"
  },
  
};

// Current language and state for Portal 24
let currentLang24 = 'kr';
let userInputText24 = '';

// Initialize Portal 24
function initPortal24() {
  displayInitialMessages24();
  setupLanguageSwitching24();
  setupEnterKeySubmission24();
}

// Display initial messages with typing effect
async function displayInitialMessages24() {
  const stream = document.getElementById('messageStream24');
  const messages = [
    { type: 'prologue', content: portal24Data[currentLang24].prologue },
    { type: 'ely', name: '👑 Ely', content: portal24Data[currentLang24].ely },
    { type: 'sora', name: '💧 Sora', content: portal24Data[currentLang24].sora },
    { type: 'noah', name: '🧙‍♂️ Noah', content: portal24Data[currentLang24].noah },
    { type: 'enya', name: '🕯️ Enya', content: portal24Data[currentLang24].enya },
    { type: 'kaia', name: '😶 Kaia', content: portal24Data[currentLang24].kaia },
    { type: 'cris', name: '🃏 Cris', content: portal24Data[currentLang24].cris },
    { type: 'kael', name: '💥 Kael', content: portal24Data[currentLang24].kael },
    { type: 'mira', name: '🌫️ Mira', content: portal24Data[currentLang24].mira },
    { type: 'light', content: portal24Data[currentLang24].light },
    { type: 'question', content: portal24Data[currentLang24].question }
  ];

  for (let i = 0; i < messages.length; i++) {
    const messageCard = createMessageCard24(messages[i]);
    stream.appendChild(messageCard);
    stream.scrollTo({ top: stream.scrollHeight, behavior: 'smooth' });
    
    await typeText24(messageCard.querySelector('.message-text'), messages[i].content);
    await sleep24(1200);
  }
  
  // Show input area after all messages
  document.getElementById('inputArea24').style.display = 'block';
}

// Setup Enter key submission
function setupEnterKeySubmission24() {
  document.getElementById('userInput24').addEventListener('keydown', function(e) {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      submitResponse(24);
    }
  });
}

// Display character responses after user input
async function displayCharacterResponses24(userInput) {
  const stream = document.getElementById('messageStream24');
  
  // Show user input first
  const userCard = createMessageCard24({
    type: 'user-input',
    content: `${portal24Data[currentLang24].user_input_prefix}\n"${userInput}"`
  });
  stream.appendChild(userCard);
  stream.scrollTo({ top: stream.scrollHeight, behavior: 'smooth' });
  await typeText24(userCard.querySelector('.message-text'), userCard.querySelector('.message-text').textContent);
  await sleep24(1500);
  
  // Character responses
  const responses = [
    { type: 'ely', name: '👑 Ely', content: `"${userInput}"... ${portal24Data[currentLang24].response_ely}` },
    { type: 'sora', name: '💧 Sora', content: `${portal24Data[currentLang24].response_sora}` },
    { type: 'noah', name: '🧙‍♂️ Noah', content: `"${userInput}" ${portal24Data[currentLang24].response_noah}` }
  ];

  for (let i = 0; i < responses.length; i++) {
    const responseCard = createMessageCard24(responses[i]);
    stream.appendChild(responseCard);
    stream.scrollTo({ top: stream.scrollHeight, behavior: 'smooth' });
    
    await typeText24(responseCard.querySelector('.message-text'), responses[i].content);
    await sleep24(1500);
  }
  
  // Show navigation buttons
  document.getElementById('nextPortalNav24').style.display = 'block';
}

function createMessageCard24(message) {
  const card = document.createElement('div');
  card.className = `message-card ${message.type}`;
  
  let cardHTML = '';
  if (message.name) {
    cardHTML += `<div class="character-name">${message.name}</div>`;
  }
  cardHTML += `<div class="message-text">${message.content || ''}</div>`;
  
  card.innerHTML = cardHTML;
  return card;
}

async function typeText24(element, text, speed = 80) {
  return new Promise((resolve) => {
    let i = 0;
    element.textContent = '';
    element.classList.add('typewriter');
    
    const timer = setInterval(() => {
      if (i < text.length) {
        element.textContent += text.charAt(i);
        i++;
      } else {
        clearInterval(timer);
        element.classList.remove('typewriter');
        resolve();
      }
    }, speed);
  });
}

function sleep24(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

function setupLanguageSwitching24() {
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const newLang = btn.dataset.lang;
      if (portal24Data[newLang] && newLang !== currentLang24) {
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentLang24 = newLang;
        document.getElementById('messageStream24').innerHTML = '';
        document.getElementById('inputArea24').style.display = 'none';
        document.getElementById('nextPortalNav24').style.display = 'none';
        displayInitialMessages24();
        updatePortalTexts24();
      }
    });
  });
}

function updatePortalTexts24() {
  // Update title and subtitle
  document.querySelector('[data-i18n="portal24.title"]').textContent = portal24Data[currentLang24].title;
  document.querySelector('[data-i18n="portal24.subtitle"]').textContent = portal24Data[currentLang24].subtitle;
  
  // Update slogan
  document.querySelector('[data-i18n="common.slogan"]').textContent = portal24Data[currentLang24].slogan;
  
  // Update placeholder and hint
  document.getElementById('userInput24').placeholder = portal24Data[currentLang24].input.placeholder;
  document.querySelector('[data-i18n="portal24.input.hint"]').textContent = portal24Data[currentLang24].input.hint;
  
  // Update submit button
  document.querySelector('[data-i18n="portal24.submit"]').textContent = portal24Data[currentLang24].submit;
  
  // Update navigation buttons
  const yesBtn = document.querySelector('[data-i18n="common.yes"]');
  const noBtn = document.querySelector('[data-i18n="common.no"]');
  if (yesBtn) yesBtn.textContent = portal24Data[currentLang24].yes;
  if (noBtn) noBtn.textContent = portal24Data[currentLang24].no;
  
  // Update back to main button
  document.querySelector('[data-i18n="common.back_to_main"]').textContent = 
    currentLang24 === 'kr' ? '🏠 메인 포탈로 돌아가기' :
    currentLang24 === 'en' ? '🏠 Back to Main Portal' :
    currentLang24 === 'pt' ? '🏠 Voltar ao Portal Principal' :
    currentLang24 === 'es' ? '🏠 Volver al Portal Principal' :
    currentLang24 === 'fr' ? '🏠 Retour au Portail Principal' :
    currentLang24 === 'de' ? '🏠 Zurück zum Hauptportal' :
    currentLang24 === 'it' ? '🏠 Torna al Portale Principale' :
    currentLang24 === 'ru' ? '🏠 Вернуться к Главному Порталу' :
    currentLang24 === 'ja' ? '🏠 メインポータルに戻る' :
    currentLang24 === 'zh' ? '🏠 返回主门户' :
    currentLang24 === 'ar' ? '🏠 العودة إلى البوابة الرئيسية' :
    currentLang24 === 'hi' ? '🏠 मुख्य पोर्टल पर वापस जाएं' :
    '🏠 메인 포탈로 돌아가기';
}

function submitResponse(portalNum) {
  if (portalNum !== 24) return;
  
  const input = document.getElementById(`userInput${portalNum}`);
  const response = input.value.trim();
  
  if (response) {
    userInputText24 = response;
    
    // Hide input area
    document.getElementById(`inputArea${portalNum}`).style.display = 'none';
    
    // Display character responses
    displayCharacterResponses24(response);
    
    // Clear input
    input.value = '';
  } else {
    // No alert, just focus on input
    input.focus();
    input.style.borderColor = '#f48fb1';
    setTimeout(() => {
      input.style.borderColor = 'rgba(255,255,255,0.3)';
    }, 2000);
  }
}

function stayInPortal(portalNum) {
  document.getElementById(`nextPortalNav${portalNum}`).style.display = 'none';
  document.getElementById(`inputArea${portalNum}`).style.display = 'block';
  document.getElementById(`userInput${portalNum}`).focus();
}

function goToNextPortal(nextNumber) {
  const nextUrl = `temarix_v1_${String(nextNumber).padStart(2, '0')}.html`;
  window.location.href = nextUrl;
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  if (document.getElementById('portal-24')) {
    initPortal24();
  }
});
</script>
</body>
</html>