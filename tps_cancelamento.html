<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TPS - Manage Plan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1a1a;
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 50px;
            border-radius: 25px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        #currentPlan {
            font-size: 1.3rem;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .btn {
            display: inline-block;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
            margin: 15px 10px;
            background: transparent;
            color: white;
            border: 2px solid #dc3545;
        }

        .btn:hover {
            background: #dc3545;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(220, 53, 69, 0.3);
        }

        .back-btn {
            border-color: #667eea;
            color: #667eea;
        }

        .back-btn:hover {
            background: #667eea;
            color: white;
        }

        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 12px;
        }

        .language-selector a {
            color: white;
            text-decoration: none;
            margin: 0 5px;
            padding: 5px 8px;
            border-radius: 8px;
            transition: background 0.3s ease;
        }

        .language-selector a:hover,
        .language-selector a.active {
            background: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            #currentPlan {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <a href="#" onclick="changeLanguage('en')" data-lang="en" class="active">ğŸ‡ºğŸ‡¸ EN</a>
        <a href="#" onclick="changeLanguage('pt')" data-lang="pt">ğŸ‡§ğŸ‡· PT</a>
        <a href="#" onclick="changeLanguage('es')" data-lang="es">ğŸ‡ªğŸ‡¸ ES</a>
        <a href="#" onclick="changeLanguage('ko')" data-lang="ko">ğŸ‡°ğŸ‡· KO</a>
        <a href="#" onclick="changeLanguage('fr')" data-lang="fr">ğŸ‡«ğŸ‡· FR</a>
        <a href="#" onclick="changeLanguage('de')" data-lang="de">ğŸ‡©ğŸ‡ª DE</a>
        <a href="#" onclick="changeLanguage('it')" data-lang="it">ğŸ‡®ğŸ‡¹ IT</a>
        <a href="#" onclick="changeLanguage('ja')" data-lang="ja">ğŸ‡¯ğŸ‡µ JP</a>
        <a href="#" onclick="changeLanguage('zh')" data-lang="zh">ğŸ‡¨ğŸ‡³ CN</a>
        <a href="#" onclick="changeLanguage('ru')" data-lang="ru">ğŸ‡·ğŸ‡º RU</a>
        <a href="#" onclick="changeLanguage('hi')" data-lang="hi">ğŸ‡®ğŸ‡³ HI</a>
        <a href="#" onclick="changeLanguage('nl')" data-lang="nl">ğŸ‡³ğŸ‡± NL</a>
    </div>

    <div class="container">
        <h1 data-translate="managePlanTitle">Manage Plan</h1>
        <p id="currentPlan" data-translate="currentPlanText">Your current plan: </p>
        
        <button onclick="cancelarPlano()" class="btn" data-translate="cancelPlanButton">âŒ Cancel Plan</button>
        
        <br>
        
        <button onclick="backToTPS()" class="btn back-btn">ğŸ”™ Back to TPS</button>
    </div>

    <script>
        // Get language from URL or default to English
        let currentLanguage = new URLSearchParams(window.location.search).get('lang') || 'en';
        
        // ğŸ”’ SISTEMA EM MEMÃ“RIA (substitui localStorage para funcionar no Claude)
        let tpsStorage = {
            logged_in: true,  // Assume usuÃ¡rio logado para esta pÃ¡gina
            plano: 'basic'    // Plano de demonstraÃ§Ã£o
        };

        // FunÃ§Ãµes auxiliares para simular localStorage
        function getTpsData(key) {
            return tpsStorage[key.replace('tps_', '')] || null;
        }

        function setTpsData(key, value) {
            tpsStorage[key.replace('tps_', '')] = value;
            console.log(`ğŸ’¾ TPS Storage updated: ${key} = ${value}`);
        }

        function removeTpsData(key) {
            tpsStorage[key.replace('tps_', '')] = null;
            console.log(`ğŸ—‘ï¸ TPS Storage removed: ${key}`);
        }
        
        // Translations for the page
        const translations = {
            en: {
                managePlanTitle: "Manage Plan",
                currentPlanText: "Your current plan: ",
                cancelPlanButton: "âŒ Cancel Plan",
                planCancelled: "Your plan has been cancelled"
            },
            pt: {
                managePlanTitle: "Gerenciar Plano",
                currentPlanText: "Seu plano atual: ",
                cancelPlanButton: "âŒ Cancelar Plano",
                planCancelled: "Seu plano foi cancelado"
            },
            es: {
                managePlanTitle: "Gestionar Plan",
                currentPlanText: "Tu plan actual: ",
                cancelPlanButton: "âŒ Cancelar Plan",
                planCancelled: "Tu plan ha sido cancelado"
            },
            ko: {
                managePlanTitle: "í”Œëœ ê´€ë¦¬",
                currentPlanText: "í˜„ì¬ í”Œëœ: ",
                cancelPlanButton: "âŒ í”Œëœ ì·¨ì†Œ",
                planCancelled: "í”Œëœì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤"
            },
            fr: {
                managePlanTitle: "GÃ©rer le Plan",
                currentPlanText: "Votre plan actuel: ",
                cancelPlanButton: "âŒ Annuler le Plan",
                planCancelled: "Votre plan a Ã©tÃ© annulÃ©"
            },
            de: {
                managePlanTitle: "Plan Verwalten",
                currentPlanText: "Ihr aktueller Plan: ",
                cancelPlanButton: "âŒ Plan KÃ¼ndigen",
                planCancelled: "Ihr Plan wurde gekÃ¼ndigt"
            },
            it: {
                managePlanTitle: "Gestisci Piano",
                currentPlanText: "Il tuo piano attuale: ",
                cancelPlanButton: "âŒ Cancella Piano",
                planCancelled: "Il tuo piano Ã¨ stato cancellato"
            },
            ja: {
                managePlanTitle: "ãƒ—ãƒ©ãƒ³ç®¡ç†",
                currentPlanText: "ç¾åœ¨ã®ãƒ—ãƒ©ãƒ³: ",
                cancelPlanButton: "âŒ ãƒ—ãƒ©ãƒ³ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
                planCancelled: "ãƒ—ãƒ©ãƒ³ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã—ãŸ"
            },
            zh: {
                managePlanTitle: "ç®¡ç†è®¡åˆ’",
                currentPlanText: "æ‚¨å½“å‰çš„è®¡åˆ’: ",
                cancelPlanButton: "âŒ å–æ¶ˆè®¡åˆ’",
                planCancelled: "æ‚¨çš„è®¡åˆ’å·²è¢«å–æ¶ˆ"
            },
            ru: {
                managePlanTitle: "Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞŸĞ»Ğ°Ğ½Ğ¾Ğ¼",
                currentPlanText: "Ğ’Ğ°Ñˆ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¿Ğ»Ğ°Ğ½: ",
                cancelPlanButton: "âŒ ĞÑ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ĞŸĞ»Ğ°Ğ½",
                planCancelled: "Ğ’Ğ°Ñˆ Ğ¿Ğ»Ğ°Ğ½ Ğ±Ñ‹Ğ» Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‘Ğ½"
            },
            hi: {
                managePlanTitle: "à¤¯à¥‹à¤œà¤¨à¤¾ à¤ªà¥à¤°à¤¬à¤‚à¤§à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",
                currentPlanText: "à¤†à¤ªà¤•à¥€ à¤µà¤°à¥à¤¤à¤®à¤¾à¤¨ à¤¯à¥‹à¤œà¤¨à¤¾: ",
                cancelPlanButton: "âŒ à¤¯à¥‹à¤œà¤¨à¤¾ à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚",
                planCancelled: "à¤†à¤ªà¤•à¥€ à¤¯à¥‹à¤œà¤¨à¤¾ à¤°à¤¦à¥à¤¦ à¤•à¤° à¤¦à¥€ à¤—à¤ˆ à¤¹à¥ˆ"
            },
            nl: {
                managePlanTitle: "Plan Beheren",
                currentPlanText: "Uw huidige plan: ",
                cancelPlanButton: "âŒ Plan Annuleren",
                planCancelled: "Uw plan is geannuleerd"
            }
        };

        // Update page content based on language
        function updateContent() {
            const t = translations[currentLanguage] || translations['en'];
            
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (t[key]) {
                    element.innerHTML = t[key];
                }
            });

            // Update current plan display
            const plano = getTpsData('tps_plano');
            const planText = plano === 'pro' ? 'Pro' : plano === 'basic' ? 'Basic' : 'None';
            const currentPlanElement = document.getElementById('currentPlan');
            currentPlanElement.innerHTML = t.currentPlanText + '<strong>' + planText + '</strong>';
            
            // Update document language
            document.documentElement.lang = currentLanguage;
        }

        // Change language function
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // Update active language button
            document.querySelectorAll('.language-selector a').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === lang) {
                    btn.classList.add('active');
                }
            });
            
            updateContent();
            
            // Update URL
            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
            window.history.replaceState(null, '', url);
        }

        // Cancel plan function
        function cancelarPlano() {
            const t = translations[currentLanguage] || translations['en'];
            
            if (confirm(t.planCancelled + '?')) {
                removeTpsData('tps_plano');
                alert(t.planCancelled);
                
                console.log(`âŒ Plano cancelado | Simulando redirecionamento para tps-payment.html?lang=${currentLanguage}`);
                
                // Para demonstraÃ§Ã£o no Claude, apenas atualizar a interface
                updateContent();
                
                // Em implementaÃ§Ã£o real, descomente a linha abaixo:
                // window.location.href = `tps-payment.html?lang=${currentLanguage}`;
            }
        }

        // Back to TPS function
        function backToTPS() {
            const plano = getTpsData('tps_plano');
            
            console.log(`ğŸ”™ Voltando para TPS. Plano atual: ${plano || 'none'}`);
            
            if (plano) {
                // Em implementaÃ§Ã£o real: window.location.href = `tps-gpt.html?lang=${currentLanguage}`;
                alert('Redirecionando para TPS GPT interface...');
            } else {
                // Em implementaÃ§Ã£o real: window.location.href = `tps-payment.html?lang=${currentLanguage}`;
                alert('Redirecionando para pÃ¡gina de pagamento...');
            }
        }

        // Initialize page
        function init() {
            // Set language from URL parameter
            const urlLang = new URLSearchParams(window.location.search).get('lang');
            if (urlLang) {
                currentLanguage = urlLang;
            }
            
            // Update active language button
            document.querySelectorAll('.language-selector a').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === currentLanguage) {
                    btn.classList.add('active');
                }
            });
            
            updateContent();
            
            console.log(`ğŸ”§ TPS Manage Plan page initialized with language: ${currentLanguage}`);
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>