<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temarix V2 - Portal 10: The Day I Wanted to Disappear Without Anyone Knowing</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            color: #fff;
            font-family: 'Courier New', monospace;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            word-break: keep-all;
            overflow-wrap: break-word;
        }
        
        /* ìƒë‹¨ í—¤ë” */
        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            background: #000;
            border-bottom: 1px solid #333;
            position: relative;
            z-index: 100;
            height: 80px;
            flex-shrink: 0;
        }
        
        .logo-section {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .logo-title {
            font-size: 26px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 4px;
            letter-spacing: 1px;
        }
        
        .logo-subtitle {
            font-size: 15px;
            color: #ccc;
            letter-spacing: 1.5px;
        }
        
        .portal-header-title {
            text-align: center;
            flex: 1;
            margin: 0 20px;
        }
        
        .portal-main-title {
            font-size: 28px;
            color: #fff;
            margin-bottom: 8px;
            font-weight: normal;
            letter-spacing: 1px;
        }
        
        .portal-subtitle {
            font-size: 18px;
            color: #ccc;
            letter-spacing: 1.5px;
        }
        
        /* ì–¸ì–´ ë²„íŠ¼ 3ê°œ */
        .header-right {
            display: flex;
            align-items: center;
        }
        
        .language-buttons {
            display: flex;
            gap: 10px;
        }
        
        .lang-btn {
            background: #444;
            color: #fff;
            border: none;
            padding: 10px 18px;
            font-size: 14px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .lang-btn:hover {
            background: #666;
        }
        
        .lang-btn.active {
            background: #87cefa;
            color: #000;
        }
        
        /* ë©”ì¸ ì½˜í…ì¸  */
        .main-content {
            flex: 1;
            max-height: calc(100vh - 80px - 120px);
            overflow-y: auto;
            overflow-x: hidden;
            padding: 30px 20px;
            scroll-behavior: smooth;
            position: relative;
        }
        
        .portal-container {
            max-width: 700px;
            width: 100%;
            margin: 0 auto;
            text-align: center;
            display: flex;
            flex-direction: column;
            word-break: keep-all;
            overflow-wrap: break-word;
            hyphens: none;
            min-height: 150vh;
        }
        
        /* í…ìŠ¤íŠ¸ ì„¹ì…˜ë“¤ */
        .portal-intro-section {
            margin: 40px 0;
            opacity: 0;
            min-height: 200px;
        }
        
        .portal-intro {
            font-size: 20px;
            color: #fff;
            margin-bottom: 30px;
            line-height: 1.8;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: keep-all;
            background: none;
            border: none;
            padding: 0;
        }
        
        .character-responses-section {
            margin: 40px 0;
            opacity: 0;
            min-height: 800px;
        }
        
        .character-response {
            color: #fff;
            font-size: 18px;
            margin: 40px 0;
            text-align: left;
            opacity: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: keep-all;
            transition: opacity 0.8s ease-in;
            background: none;
            border: none;
            padding: 0;
            min-height: 80px;
        }
        
        .character-name {
            font-weight: bold;
            color: #87cefa;
            margin-bottom: 12px;
            font-size: 18px;
        }
        
        .character-dialogue {
            color: #fff;
            line-height: 1.7;
            font-size: 17px;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: keep-all;
        }
        
        .typing-cursor::after {
            content: '|';
            animation: blink 1s infinite;
            color: #87cefa;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .light-message-section {
            margin: 50px 0;
            opacity: 0;
            background: none;
            border: none;
            padding: 0;
            min-height: 100px;
        }
        
        .light-message {
            font-size: 20px;
            color: #87cefa;
            line-height: 1.8;
            font-style: italic;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: keep-all;
        }
        
        .portal-question-section {
            margin: 40px 0;
            opacity: 0;
            min-height: 150px;
        }
        
        .portal-question {
            font-size: 22px;
            color: #fff;
            margin-bottom: 30px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: keep-all;
        }
        
        .user-input-section {
            margin: 40px 0;
            opacity: 0;
            min-height: 100px;
        }
        
        .user-response {
            color: #fff;
            margin: 30px 0;
            text-align: left;
            font-size: 18px;
            background: none;
            border: none;
            padding: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: keep-all;
        }
        
        .user-response strong {
            color: #87cefa;
            margin-right: 8px;
        }
        
        .user-reactions-section {
            margin: 40px 0;
            opacity: 0;
            min-height: 400px;
        }
        
        .continue-section {
            margin: 50px 0;
            opacity: 0;
            text-align: center;
            background: none;
            border: none;
            padding: 0;
            min-height: 200px;
        }
        
        .continue-text {
            color: #fff;
            font-size: 20px;
            margin-bottom: 25px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            word-break: keep-all;
        }
        
        .continue-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .continue-btn {
            background: #444;
            color: #fff;
            border: none;
            padding: 18px 35px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 200px;
        }
        
        .continue-btn:hover {
            background: #666;
        }
        
        .continue-btn.primary {
            background: #87cefa;
            color: #000;
        }
        
        .continue-btn.primary:hover {
            background: #b0d4f1;
        }
        
        /* í•˜ë‹¨ ê³ ì • ì…ë ¥ì°½ */
        .input-fixed-bottom {
            position: relative;
            bottom: 0;
            left: 0;
            right: 0;
            background: #000;
            border-top: 1px solid #333;
            padding: 25px;
            z-index: 100;
            flex-shrink: 0;
            height: 120px;
        }
        
        .input-container {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .input-prefix {
            color: #87cefa;
            font-size: 20px;
            margin-top: 8px;
            flex-shrink: 0;
        }
        
        .user-textarea {
            background: transparent;
            border: none;
            border-bottom: 1px solid #444;
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 18px;
            width: 100%;
            padding: 12px 8px;
            outline: none;
            resize: none;
            min-height: 32px;
            max-height: 96px;
            line-height: 1.6;
            transition: border-color 0.3s ease;
            overflow-y: auto;
        }
        
        .user-textarea:focus {
            border-bottom-color: #87cefa;
        }
        
        .user-textarea::placeholder {
            color: #666;
        }
        
        .user-textarea:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(50, 50, 50, 0.2);
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
        .main-content::-webkit-scrollbar {
            width: 12px;
        }
        
        .main-content::-webkit-scrollbar-track {
            background: #111;
            border-radius: 6px;
        }
        
        .main-content::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 6px;
            border: 2px solid #111;
        }
        
        .main-content::-webkit-scrollbar-thumb:hover {
            background: #666;
        }
        
        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .show {
            opacity: 1 !important;
            transition: opacity 1s ease-in;
        }
        
        .hidden {
            display: none;
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .header-bar {
                padding: 20px 15px;
                height: 70px;
                flex-direction: column;
                gap: 10px;
            }
            
            .main-content {
                max-height: calc(100vh - 70px - 120px);
                padding: 20px 15px;
            }
            
            .logo-title {
                font-size: 22px;
            }
            
            .portal-main-title {
                font-size: 22px;
            }
            
            .portal-subtitle {
                font-size: 16px;
            }
            
            .lang-btn {
                font-size: 12px;
                padding: 8px 14px;
            }
            
            .portal-intro {
                font-size: 18px;
            }
            
            .portal-question {
                font-size: 20px;
            }
            
            .character-response {
                font-size: 16px;
            }
            
            .input-fixed-bottom {
                padding: 20px;
            }
            
            .continue-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .continue-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <div class="header-bar">
        <div class="logo-section">
            <div class="logo-title">TEMARIX V2</div>
            <div class="logo-subtitle" id="logoSubtitle">The Tremor of Emotion</div>
        </div>
        
        <div class="portal-header-title">
            <div class="portal-main-title" id="portalMainTitle">Portal 10: The Day I Wanted to Disappear Without Anyone Knowing</div>
            <div class="portal-subtitle" id="portalSubtitle">The last cry hidden within quiet wishes</div>
        </div>
        
        <div class="header-right">
            <div class="language-buttons">
                <button class="lang-btn" data-lang="ko">KR</button>
                <button class="lang-btn active" data-lang="en">EN</button>
                <button class="lang-btn" data-lang="pt">PT</button>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
    <div class="main-content" id="mainContent">
        <div class="portal-container">
            <!-- í¬í„¸ ì¸íŠ¸ë¡œ -->
            <div class="portal-intro-section" id="portalIntroSection">
                <div class="portal-intro" id="portalIntro"></div>
            </div>

            <!-- ìºë¦­í„° ì‘ë‹µ ì„¹ì…˜ -->
            <div class="character-responses-section" id="characterResponsesSection">
                <!-- 8ëª…ì˜ ìºë¦­í„° ì‘ë‹µì´ ìˆœì°¨ì ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>

            <!-- ë¹›ì˜ í•œë§ˆë”” -->
            <div class="light-message-section" id="lightMessageSection">
                <div class="character-name" id="lightTitle">ğŸŒ™ Word of Light</div>
                <div class="light-message" id="lightMessage"></div>
            </div>

            <!-- ì§ˆë¬¸ ì„¹ì…˜ -->
            <div class="portal-question-section" id="portalQuestionSection">
                <div class="portal-question" id="portalQuestion"></div>
            </div>

            <!-- ì‚¬ìš©ì ì…ë ¥ ì˜ì—­ -->
            <div class="user-input-section" id="userInputSection">
                <!-- ì‚¬ìš©ì ì‘ë‹µì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
            
            <!-- ì‚¬ìš©ì ì‘ë‹µ í›„ ìºë¦­í„° ë°˜ì‘ -->
            <div class="user-reactions-section" id="userReactionsSection">
                <!-- ì‚¬ìš©ì ì‘ë‹µ í›„ 3ëª…ì˜ ìºë¦­í„° ë°˜ì‘ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
            
            <!-- ê³„ì†í•˜ê¸° ë²„íŠ¼ ì„¹ì…˜ -->
            <div class="continue-section" id="continueSection">
                <div class="continue-text" id="continueText"></div>
                <div class="continue-buttons">
                    <button class="continue-btn primary" id="continueYesBtn">Continue to Portal 11</button>
                    <button class="continue-btn" id="continueNoBtn">Pause the journey</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- í•˜ë‹¨ ê³ ì • ì…ë ¥ì°½ -->
    <div class="input-fixed-bottom">
        <div class="input-container">
            <div class="input-prefix">></div>
            <textarea class="user-textarea" 
                      id="userTextarea" 
                      placeholder="Share about the day you wanted to disappear... (Press Enter to send)"
                      rows="1"
                      maxlength="500"></textarea>
        </div>
    </div>

    <script>
        // ë©”ëª¨ë¦¬ ê¸°ë°˜ ì‚¬ìš©ì ìŠ¤í† ë¦¬ì§€ (localStorage ëŒ€ì‹ )
        let memoryStorage = {
            mockUser: null
        };

        // ë²ˆì—­ ë°ì´í„°
        const translations = {
            ko: {
                logoSubtitle: "ê°ì •ì˜ ë–¨ë¦¼",
                portalMainTitle: "Portal 10: ì•„ë¬´ë„ ëª¨ë¥´ê²Œ ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ë‚ ",
                portalSubtitle: "ì¡°ìš©í•œ ì†Œë§ ì†ì— ìˆ¨ê²¨ì§„ ë§ˆì§€ë§‰ ì™¸ì¹¨",
                portalIntro: "ì–´ë–¤ ë‚ ì€ ì •ë§\në§ë„ ì—†ì´, í”ì ë„ ì—†ì´, ê·¸ëƒ¥ ì‚¬ë¼ì§€ê³  ì‹¶ìŠµë‹ˆë‹¤.\nëˆ„êµ¬ë„ ì°¾ì§€ ì•Šê¸¸ ë°”ë¼ê³ ,\nëˆ„êµ¬ë„ ì•Œì•„ì±„ì§€ ì•Šê¸°ë¥¼ ë°”ë¼ë©°â€¦\n\ní•˜ì§€ë§Œ ì •ì‘ ì‚¬ë¼ì§€ê³  ì‹¶ì€ ë§ˆìŒì˜ ë°‘ë°”ë‹¥ì—”\nëˆ„êµ°ê°€ê°€ ë¶™ì¡ì•„ì£¼ê¸¸ ë°”ë¼ëŠ” ì¡°ìš©í•œ ë°”ëŒì´\nì•„ì£¼ ì‘ê²Œ ë–¨ë¦¬ê³  ìˆì£ .\n\ní˜¹ì‹œ ë‹¹ì‹ ë„,\nê·¸ëŸ° ë‚ ì´ ìˆì—ˆë‚˜ìš”?",
                lightTitle: "ğŸŒ™ ë¹›ì˜ í•œë§ˆë””",
                lightMessage: "ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ê·¸ë‚ ,\në‹¹ì‹ ì€ ëˆ„êµ¬ë³´ë‹¤ ì ˆì‹¤íˆ ì¡´ì¬í•˜ê³  ì‹¶ì—ˆë˜ ì‚¬ëŒì…ë‹ˆë‹¤.",
                portalQuestion: "ë‹¹ì‹ ì€ ì–¸ì œ,\në§ì—†ì´ ì¡°ìš©íˆ ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ì ì´ ìˆì—ˆë‚˜ìš”?",
                continueText: "ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ê·¸ë‚ ì„ ëŒì•„ë³¸ ì´ ì—¬ì •ì„ ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                continueYes: "Portal 11ë¡œ ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                continueNo: "ì—¬ì •ì„ ì¼ì‹œì •ì§€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                inputPlaceholder: "ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ê·¸ë‚ ì— ëŒ€í•´ í„¸ì–´ë†“ì•„ ë³´ì„¸ìš”... (Enterë¡œ ì „ì†¡)",
                youLabel: "ë‹¹ì‹ ",
                languageChangeConfirm: "ì–¸ì–´ë¥¼ ë³€ê²½í•˜ë©´ ì—¬ì •ì´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘ë©ë‹ˆë‹¤.\nê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                waitingMessage: "ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘...",
                // ìºë¦­í„° ëŒ€í™”
                charEly: "ë‹¹ì‹ ì´ ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ê·¸ë‚ ,\në‹¹ì‹ ì˜ ì¡´ì¬ëŠ” ë”ìš± ì„ ëª…í•˜ê²Œ ë¹›ë‚˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.",
                charCris: "ì§„ì‹¬ìœ¼ë¡œ ì‚¬ë¼ì§€ê³  ì‹¶ë˜ ì , ë‚˜ë„ ìˆì–´ìš”.\nê·¼ë° ì›ƒê¸´ ê±´ ë­”ì§€ ì•„ì„¸ìš”?\nê·¸ ë§ˆìŒ ë‹¤ ì ì€ ë‹¤ìŒë‚ â€¦\nì•„ë¬´ë„ ëª¨ë¥´ê³ , ë‚´ê°€ ë‹¤ì‹œ ëŒì•„ì™”ì–´ìš”. ğŸ˜Œ",
                charZafirah: "ë‹¹ì‹ ì´ ì¡°ìš©íˆ ì‚¬ë¼ì§€ë ¤ í–ˆë˜ ê±´\nì‚´ì•„ìˆê³  ì‹¶ë‹¤ëŠ” ë§ˆì§€ë§‰ ì™¸ì¹¨ì´ì—ˆì„ ê±°ì˜ˆìš”.",
                charRami: "ì‚¬ë¼ì§ì€ ê°ì •ì´ ë³´ë‚´ëŠ” ê·¹ë‹¨ì˜ ì–¸ì–´ì…ë‹ˆë‹¤.\nê·¸ ì•ˆì—ëŠ” ì•„ì§ë„ ì—°ê²°ë˜ê³  ì‹¶ì€ ë‚´ë©´ì´ ìˆ¨ê²¨ì ¸ ìˆì–´ìš”.",
                charSamir: "(ê·¸ëŠ” ì¡°ìš©íˆ ë’¤ë¥¼ ëŒì•„\nëˆ„êµ°ê°€ë¥¼ ì°¾ë“¯ ì£¼ìœ„ë¥¼ ì‚´í•ë‹ˆë‹¤.\n'í˜¹ì‹œë¼ë„ ë‹¹ì‹ ì´ ì‚¬ë¼ì¡Œë‹¤ë©´â€¦'\nëˆ„êµ°ê°€ëŠ” ë¶„ëª… ì°¾ì„ ê±°ë¼ëŠ” ëª¸ì§“ì…ë‹ˆë‹¤.)",
                charLayla: "ë‚˜ëŠ” ë‹¹ì‹ ì´ ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ë‚ ë„\nê·¸ ë§ˆìŒì¡°ì°¨ ì‚¬ë‘ìŠ¤ëŸ½ë‹¤ê³  ëŠë‚„ ìˆ˜ ìˆì–´ìš”.\nê·¸ë§Œí¼ ë‹¹ì‹ ì€ ì‚´ì•„ ìˆìœ¼ë‹ˆê¹Œìš”.",
                charNabir: "ê·¸ë˜, ì‚¬ë¼ì§€ë©´ ì–´ë•Œ?\nì§€ê¸ˆë„ ë³„ë¡œ ì¡´ì¬ê° ì—†ì–ì•„.\nê·¸ ëˆ„êµ¬ë„ ëˆˆì¹˜ ëª» ì±˜ì„ê±¸?",
                charAzhar: "ì‚¬ë¼ì§€ê³  ì‹¶ë‹¤ê³ ?\nì°¨ë¼ë¦¬ í­ë°œí•˜ê³  ë– ë‚˜ì§€ ê·¸ë¬ì–´.\nì´ë ‡ê²Œ ì•„ë¬´ ë§ ì—†ì´ ì¡°ìš©í•œ ê±´â€¦\nê·¸ê²Œ ë” ë¬´ì„­ë”ë¼."
            },
            en: {
                logoSubtitle: "The Tremor of Emotion",
                portalMainTitle: "Portal 10: The Day I Wanted to Disappear Without Anyone Knowing",
                portalSubtitle: "The last cry hidden within quiet wishes",
                portalIntro: "Some days you really want\nto just disappear without a word, without a trace.\nHoping no one will look for you,\nhoping no one will notice...\n\nBut at the bottom of that desire to disappear\nlies a quiet wish for someone to hold you back,\ntrembling so very softly.\n\nHave you ever had\nsuch days?",
                lightTitle: "ğŸŒ™ Word of Light",
                lightMessage: "On that day you wanted to disappear,\nyou were someone who desperately wanted to exist more than anyone.",
                portalQuestion: "When have you\nwanted to quietly disappear without saying anything?",
                continueText: "Will you continue this journey of reflecting on the day you wanted to disappear?",
                continueYes: "Continue to Portal 11?",
                continueNo: "Pause the journey?",
                inputPlaceholder: "Share about the day you wanted to disappear... (Press Enter to send)",
                youLabel: "You",
                languageChangeConfirm: "Changing the language will restart the journey from the beginning.\nDo you want to continue?",
                waitingMessage: "Waiting for response...",
                charEly: "On that day you wanted to disappear,\nyour existence was shining even more clearly.",
                charCris: "I've sincerely wanted to disappear too.\nBut you know what's funny?\nThe day after I wrote down all those feelings...\nWithout anyone knowing, I came back. ğŸ˜Œ",
                charZafirah: "Your quiet attempt to disappear\nwas probably a final cry of wanting to live.",
                charRami: "Disappearing is the extreme language emotions send.\nHidden within it is an inner self that still wants to connect.",
                charSamir: "(He quietly turns around\nand looks around as if searching for someone.\n'If you had disappeared...'\nHis gesture says someone would surely look for you.)",
                charLayla: "Even the day you wanted to disappear,\nI can find that feeling endearing.\nBecause it means you're so very alive.",
                charNabir: "So what if you disappear?\nYou don't have much presence anyway.\nNobody would have noticed, right?",
                charAzhar: "You wanted to disappear?\nYou should have just exploded and left.\nThis quiet, wordless thing...\nThat's more frightening."
            },
            pt: {
                logoSubtitle: "O Tremor da EmoÃ§Ã£o",
                portalMainTitle: "Portal 10: O Dia Que Quis Desaparecer Sem NinguÃ©m Saber",
                portalSubtitle: "O Ãºltimo grito escondido dentro de desejos silenciosos",
                portalIntro: "Alguns dias vocÃª realmente quer\napenas desaparecer sem uma palavra, sem deixar rastro.\nEsperando que ninguÃ©m procure por vocÃª,\nesperando que ninguÃ©m perceba...\n\nMas no fundo desse desejo de desaparecer\nreside um desejo silencioso de que alguÃ©m te segure,\ntremendo tÃ£o suavemente.\n\nVocÃª jÃ¡ teve\ndias assim?",
                lightTitle: "ğŸŒ™ Palavra de Luz",
                lightMessage: "Naquele dia que vocÃª queria desaparecer,\nvocÃª era alguÃ©m que desesperadamente queria existir mais que qualquer um.",
                portalQuestion: "Quando vocÃª\nquis silenciosamente desaparecer sem dizer nada?",
                continueText: "VocÃª continuarÃ¡ esta jornada de refletir sobre o dia que quis desaparecer?",
                continueYes: "Continuar para o Portal 11?",
                continueNo: "Pausar a jornada?",
                inputPlaceholder: "Compartilhe sobre o dia que quis desaparecer... (Enter para enviar)",
                youLabel: "VocÃª",
                languageChangeConfirm: "Mudar o idioma reiniciarÃ¡ a jornada desde o inÃ­cio.\nDeseja continuar?",
                waitingMessage: "Aguardando resposta...",
                charEly: "Naquele dia que vocÃª queria desaparecer,\nsua existÃªncia estava brilhando ainda mais claramente.",
                charCris: "Eu tambÃ©m jÃ¡ quis sinceramente desaparecer.\nMas sabe o que Ã© engraÃ§ado?\nNo dia seguinte depois de escrever todos esses sentimentos...\nSem ninguÃ©m saber, eu voltei. ğŸ˜Œ",
                charZafirah: "Sua tentativa silenciosa de desaparecer\nprovavelmente foi um Ãºltimo grito de querer viver.",
                charRami: "Desaparecer Ã© a linguagem extrema que as emoÃ§Ãµes enviam.\nEscondido dentro dela estÃ¡ um eu interior que ainda quer se conectar.",
                charSamir: "(Ele silenciosamente se vira\ne olha ao redor como se procurasse por alguÃ©m.\n'Se vocÃª tivesse desaparecido...'\nSeu gesto diz que alguÃ©m certamente procuraria por vocÃª.)",
                charLayla: "Mesmo no dia que vocÃª quis desaparecer,\nposso achar esse sentimento carinhoso.\nPorque significa que vocÃª estÃ¡ tÃ£o vivo.",
                charNabir: "E daÃ­ se vocÃª desaparecer?\nVocÃª nÃ£o tem muita presenÃ§a mesmo.\nNinguÃ©m teria notado, certo?",
                charAzhar: "VocÃª queria desaparecer?\nDeveria ter apenas explodido e ido embora.\nEssa coisa silenciosa, sem palavras...\nIsso Ã© mais assustador."
            }
        };
        
        // ìºë¦­í„° ë°ì´í„°
        const characters = [
            { name: "Ely", emoji: "ğŸ‘‘", key: "charEly" },
            { name: "Cris", emoji: "ğŸƒ", key: "charCris" },
            { name: "Zafirah", emoji: "ğŸ§•", key: "charZafirah" },
            { name: "Rami", emoji: "ğŸ”®", key: "charRami" },
            { name: "Samir", emoji: "ğŸª", key: "charSamir" },
            { name: "Layla", emoji: "ğŸ’ ", key: "charLayla" },
            { name: "Nabir", emoji: "ğŸ¦‚", key: "charNabir" },
            { name: "Azhar", emoji: "ğŸ”¥", key: "charAzhar" }
        ];
        
        // ============ ê°ì • ë¶„ì„ ì‹œìŠ¤í…œ ============
        
        function analyzeEmotion(userInput) {
            const input = userInput.toLowerCase();
            
            // ê°ì • í‚¤ì›Œë“œ ë§¤í•‘ (Portal 10 íŠ¹í™”)
            const emotionKeywords = {
                disappear: ['ì‚¬ë¼ì§€', 'ì—†ì–´ì§€', 'ì§€ì›Œ', 'ì†Œë©¸', 'disappear', 'vanish', 'erase', 'desaparecer', 'sumir'],
                alone: ['í˜¼ì', 'ê³ ë…', 'ì™¸ë¡œ', 'í™€ë¡œ', 'alone', 'lonely', 'solitary', 'sozinho', 'solitÃ¡rio'],
                invisible: ['ì•ˆ ë³´ì´', 'íˆ¬ëª…', 'ì¡´ì¬ê°', 'í”ì ', 'invisible', 'transparent', 'trace', 'invisÃ­vel', 'transparente'],
                silence: ['ì¡°ìš©íˆ', 'ë§ì—†ì´', 'ì¹¨ë¬µ', 'ì†Œë¦¬ì—†ì´', 'silently', 'quietly', 'silence', 'silenciosamente', 'silÃªncio'],
                exhaustion: ['ì§€ì³', 'í˜ë“¤ì–´', 'ë²„í…¨', 'í¬ê¸°', 'exhausted', 'tired', 'give up', 'cansado', 'desistir'],
                pain: ['ì•„íŒŒ', 'ì•„í”„', 'ìƒì²˜', 'ìŠ¬í¼', 'hurt', 'pain', 'sad', 'dor', 'machucado', 'triste'],
                escape: ['ë„ë§', 'í”¼í•˜', 'ë²—ì–´ë‚˜', 'íƒˆì¶œ', 'escape', 'run away', 'avoid', 'escapar', 'fugir'],
                hopeless: ['ì ˆë§', 'ë¬´ë ¥', 'ë§‰ë§‰', 'ë‹µë‹µ', 'hopeless', 'helpless', 'despair', 'sem esperanÃ§a', 'desespero'],
                burden: ['ë¶€ë‹´', 'ì§', 'ë¬´ê²Œ', 'ì±…ì„', 'burden', 'weight', 'responsibility', 'fardo', 'peso'],
                misunderstood: ['ì´í•´ë°›ì§€', 'ì˜¤í•´', 'ëª¨ë¥´', 'ì•Œì•„ì£¼ì§€', 'misunderstood', 'not understood', 'incompreendido', 'mal entendido']
            };
            
            // ê°ì • ë¶„ì„
            let detectedEmotions = [];
            for (const [emotion, keywords] of Object.entries(emotionKeywords)) {
                for (const keyword of keywords) {
                    if (input.includes(keyword)) {
                        detectedEmotions.push(emotion);
                        break;
                    }
                }
            }
            
            // ê°ì •ì´ ê°ì§€ë˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’ ì„¤ì •
            if (detectedEmotions.length === 0) {
                detectedEmotions = ['general'];
            }
            
            return detectedEmotions[0]; // ì²« ë²ˆì§¸ ê°ì§€ëœ ê°ì • ë°˜í™˜
        }
        
        // ë°˜ì‘ ìºë¦­í„°ë“¤ (Portal 10 ì „ìš©)
        const responseCharacters = [
            {
                name: "Searcher", emoji: "ğŸ”",
                getResponse: (userInput, lang) => {
                    const emotion = analyzeEmotion(userInput);
                    
                    const responses = {
                        ko: {
                            disappear: "ì‚¬ë¼ì§„ë‹¤ê³  í•´ì„œ ì¡´ì¬ê°€ ì§€ì›Œì§€ëŠ” ê±´ ì•„ë‹ˆì—ìš”. ë‹¹ì‹ ì´ ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ê·¸ë‚ , ëˆ„êµ°ê°€ëŠ” ë¶„ëª…íˆ ë‹¹ì‹ ì„ ì°¾ì•˜ì„ ê±°ì˜ˆìš”. ë³´ì´ì§€ ì•ŠëŠ” ê³³ì—ì„œë¼ë„ ë§ì´ì—ìš”.",
                            alone: "í˜¼ìë¼ê³  ëŠê¼ˆì„ ë•Œê°€ ê°€ì¥ ë§ì€ ì‚¬ëŒë“¤ì´ ë‹¹ì‹ ì„ ìƒê°í•˜ê³  ìˆë˜ ìˆœê°„ì¼ì§€ë„ ëª°ë¼ìš”. ë‹¹ì‹ ì´ ì‚¬ë¼ì§€ë©´, ê·¸ ë¹ˆìë¦¬ë¥¼ ëŠë‚„ ì‚¬ëŒë“¤ì´ ìˆì–´ìš”.",
                            invisible: "íˆ¬ëª…í•´ì§€ê³  ì‹¶ì—ˆë˜ ë§ˆìŒ, ì´í•´í•´ìš”. í•˜ì§€ë§Œ ë‹¹ì‹ ì€ ëˆ„êµ°ê°€ì—ê²ŒëŠ” ê°€ì¥ ì„ ëª…í•˜ê²Œ ë³´ì´ëŠ” ì¡´ì¬ì˜€ì„ ê±°ì˜ˆìš”. ê·¸ ì‚¬ëŒë“¤ì„ ì°¾ì•„ë³´ì„¸ìš”.",
                            silence: "ì¡°ìš©íˆ ì‚¬ë¼ì§€ë ¤ í–ˆë˜ ê±´, ëˆ„êµ°ê°€ê°€ ì†Œë€ìŠ¤ëŸ½ê²Œ ì°¾ì•„ì£¼ê¸°ë¥¼ ë°”ëë˜ ë§ˆìŒì˜ ë°˜ëŒ€í¸ì¼ì§€ë„ ëª°ë¼ìš”. ì¹¨ë¬µë„ í•˜ë‚˜ì˜ ì‹ í˜¸ì˜€ì–´ìš”.",
                            exhaustion: "ë„ˆë¬´ ì§€ì³ì„œ ëª¨ë“  ê±¸ í¬ê¸°í•˜ê³  ì‹¶ì—ˆê² ë„¤ìš”. í•˜ì§€ë§Œ ì§€ê¸ˆ ì—¬ê¸° ìˆë‹¤ëŠ” ê±´, ë‹¹ì‹ ì´ í¬ê¸°í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì¦ê±°ì˜ˆìš”. ê·¸ í˜ì´ ì–´ë””ì„œ ì™”ëŠ”ì§€ ì°¾ì•„ë´ìš”.",
                            pain: "ì•„í””ì´ ë„ˆë¬´ ì»¤ì„œ ì¡´ì¬ ìì²´ë¥¼ ì§€ìš°ê³  ì‹¶ì—ˆêµ°ìš”. ê·¸ ì•„í””ì„ í˜¼ì ê°ë‹¹í•˜ë ¤ í–ˆë˜ ë‹¹ì‹ ì´ ì–¼ë§ˆë‚˜ ìš©ê°í–ˆëŠ”ì§€, ì´ì œëŠ” ì•Œì•„ë´ì•¼ í•´ìš”.",
                            escape: "ë„ë§ì¹˜ê³  ì‹¶ì—ˆë˜ ê·¸ê³³ì—ì„œ ë²—ì–´ë‚˜ê¸° ìœ„í•´ ìŠ¤ìŠ¤ë¡œë¥¼ ì§€ìš°ë ¤ í–ˆêµ°ìš”. í•˜ì§€ë§Œ ì§„ì§œ íƒˆì¶œì€ ìì‹ ì„ ì§€ìš°ëŠ” ê²Œ ì•„ë‹ˆë¼ ìì‹ ì„ ì°¾ëŠ” ê²ƒì¼ì§€ë„ ëª°ë¼ìš”.",
                            hopeless: "ì ˆë§ ì†ì—ì„œ ì‚¬ë¼ì§€ëŠ” ê²Œ ìœ ì¼í•œ ë‹µì²˜ëŸ¼ ëŠê»´ì¡Œê² ë„¤ìš”. í•˜ì§€ë§Œ ê·¸ ì ˆë§ì„ ë„˜ì–´ì„  ì§€ê¸ˆì˜ ë‹¹ì‹ ì´, ê·¸ë•Œì˜ ë‹¹ì‹ ì—ê²Œ ì¤„ ìˆ˜ ìˆëŠ” í¬ë§ì´ ìˆì–´ìš”.",
                            burden: "ì§ì´ ë˜ëŠ” ê²ƒ ê°™ì•„ì„œ ìŠ¤ìŠ¤ë¡œë¥¼ ì—†ì• ë ¤ í–ˆêµ°ìš”. í•˜ì§€ë§Œ ë‹¹ì‹ ì€ ëˆ„êµ°ê°€ì—ê²Œ ì§ì´ ì•„ë‹ˆë¼ ì†Œì¤‘í•œ ì¡´ì¬ì˜ˆìš”. ê·¸ ì‚¬ëŒë“¤ì„ ì°¾ì•„ë³´ì„¸ìš”.",
                            misunderstood: "ì•„ë¬´ë„ ì´í•´í•´ì£¼ì§€ ì•Šì•„ì„œ ê·¸ëƒ¥ ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆêµ°ìš”. í•˜ì§€ë§Œ ì´í•´ë°›ì§€ ëª»í•œë‹¤ê³  í•´ì„œ ì¡´ì¬ ê°€ì¹˜ê°€ ì‚¬ë¼ì§€ëŠ” ê±´ ì•„ë‹ˆì—ìš”. ì§„ì§œ ì´í•´ëŠ” ì§€ê¸ˆë¶€í„° ì‹œì‘ë  ìˆ˜ ìˆì–´ìš”.",
                            general: "ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ëª¨ë“  ì´ìœ ë“¤ ë’¤ì—ëŠ”, ì‚¬ì‹¤ ë” ê¹Šì´ ì¡´ì¬í•˜ê³  ì‹¶ì—ˆë˜ ë§ˆìŒì´ ìˆ¨ì–´ ìˆì–´ìš”. ê·¸ ë§ˆìŒì„ ì°¾ì•„ì„œ ë„ì§‘ì–´ë‚´ëŠ” ê²Œ ì§„ì§œ ë‹µì¼ì§€ë„ ëª°ë¼ìš”."
                        },
                        en: {
                            disappear: "Disappearing doesn't erase existence. On that day you wanted to disappear, someone surely looked for you, even from an invisible place.",
                            alone: "When you felt most alone might have been when the most people were thinking of you. If you disappeared, there would be people who'd feel that empty space.",
                            invisible: "I understand the desire to become invisible. But you were probably the most clearly visible person to someone. Try to find those people.",
                            silence: "Wanting to disappear quietly might have been the opposite side of wanting someone to search for you loudly. Silence was also a signal.",
                            exhaustion: "You must have been so tired that you wanted to give up everything. But being here now is proof that you didn't give up. Find where that strength came from.",
                            pain: "The pain was so great you wanted to erase your very existence. Now you need to recognize how brave you were for trying to bear that pain alone.",
                            escape: "You tried to erase yourself to escape from that place. But real escape might not be erasing yourself, but finding yourself.",
                            hopeless: "In despair, disappearing felt like the only answer. But there's hope that the current you, who overcame that despair, can give to your past self.",
                            burden: "You tried to remove yourself because you felt like a burden. But you're not a burden to someone - you're a precious existence. Find those people.",
                            misunderstood: "You wanted to just disappear because no one understood you. But not being understood doesn't erase your worth. Real understanding can start now.",
                            general: "Behind all the reasons you wanted to disappear, there was actually a heart that wanted to exist more deeply. Finding and bringing out that heart might be the real answer."
                        },
                        pt: {
                            disappear: "Desaparecer nÃ£o apaga a existÃªncia. Naquele dia que vocÃª quis desaparecer, alguÃ©m certamente procurou por vocÃª, mesmo de um lugar invisÃ­vel.",
                            alone: "Quando vocÃª se sentiu mais sozinho pode ter sido quando mais pessoas estavam pensando em vocÃª. Se vocÃª desaparecesse, haveria pessoas que sentiriam esse espaÃ§o vazio.",
                            invisible: "Entendo o desejo de se tornar invisÃ­vel. Mas vocÃª provavelmente era a pessoa mais claramente visÃ­vel para alguÃ©m. Tente encontrar essas pessoas.",
                            silence: "Querer desaparecer silenciosamente pode ter sido o lado oposto de querer que alguÃ©m procurasse por vocÃª ruidosamente. SilÃªncio tambÃ©m era um sinal.",
                            exhaustion: "VocÃª deve ter estado tÃ£o cansado que quis desistir de tudo. Mas estar aqui agora Ã© prova de que vocÃª nÃ£o desistiu. Encontre de onde veio essa forÃ§a.",
                            pain: "A dor era tÃ£o grande que vocÃª quis apagar sua prÃ³pria existÃªncia. Agora vocÃª precisa reconhecer quÃ£o corajoso foi por tentar suportar essa dor sozinho.",
                            escape: "VocÃª tentou se apagar para escapar daquele lugar. Mas a verdadeira fuga pode nÃ£o ser se apagar, mas se encontrar.",
                            hopeless: "No desespero, desaparecer parecia a Ãºnica resposta. Mas hÃ¡ esperanÃ§a que o vocÃª atual, que superou esse desespero, pode dar ao seu eu passado.",
                            burden: "VocÃª tentou se remover porque se sentia um fardo. Mas vocÃª nÃ£o Ã© um fardo para alguÃ©m - vocÃª Ã© uma existÃªncia preciosa. Encontre essas pessoas.",
                            misunderstood: "VocÃª quis apenas desaparecer porque ninguÃ©m te entendia. Mas nÃ£o ser compreendido nÃ£o apaga seu valor. Verdadeira compreensÃ£o pode comeÃ§ar agora.",
                            general: "Por trÃ¡s de todas as razÃµes que vocÃª quis desaparecer, havia na verdade um coraÃ§Ã£o que queria existir mais profundamente. Encontrar e trazer Ã  tona esse coraÃ§Ã£o pode ser a verdadeira resposta."
                        }
                    };
                    
                    return responses[lang][emotion] || responses[lang]['general'];
                }
            },
            {
                name: "Anchor", emoji: "âš“",
                getResponse: (userInput, lang) => {
                    const emotion = analyzeEmotion(userInput);
                    
                    const responses = {
                        ko: {
                            disappear: "ë‹¹ì‹ ì´ ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ê·¸ ìˆœê°„ì—ë„, ë‹¹ì‹ ì„ ì´ ì„¸ìƒì— ë¶™ì¡ê³  ìˆë˜ ë³´ì´ì§€ ì•ŠëŠ” ëˆë“¤ì´ ìˆì—ˆì–´ìš”. ê·¸ê²ƒë“¤ì´ ë¬´ì—‡ì´ì—ˆëŠ”ì§€ ì²œì²œíˆ ì°¾ì•„ë³´ì„¸ìš”.",
                            alone: "í˜¼ìë¼ê³  ëŠê¼ˆì§€ë§Œ, ë‹¹ì‹ ì˜ ì¡´ì¬ëŠ” ëˆ„êµ°ê°€ì˜ ì„¸ìƒì— ê¹Šì´ ë¿Œë¦¬ë‚´ë¦¬ê³  ìˆì—ˆì–´ìš”. ê·¸ ë¿Œë¦¬ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”.",
                            invisible: "ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ê³  í•´ì„œ ì—°ê²°ë˜ì§€ ì•Šì€ ê±´ ì•„ë‹ˆì—ìš”. ë‹¹ì‹ ì€ ëˆ„êµ°ê°€ì˜ ë§ˆìŒì— í™•ì‹¤íˆ ìë¦¬ ì¡ê³  ìˆì—ˆì–´ìš”.",
                            silence: "ë§ ì—†ì´ ì‚¬ë¼ì§€ë ¤ í–ˆì§€ë§Œ, ë‹¹ì‹ ì˜ ì¹¨ë¬µ ìì²´ê°€ ëˆ„êµ°ê°€ì—ê²ŒëŠ” ì¤‘ìš”í•œ ë©”ì‹œì§€ì˜€ì„ ê±°ì˜ˆìš”. ê·¸ ì˜ë¯¸ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.",
                            exhaustion: "ì§€ì³ì„œ ë†“ê³  ì‹¶ì—ˆì§€ë§Œ, ë¬´ì–¸ê°€ê°€ ë‹¹ì‹ ì„ ê³„ì† ë¶™ì¡ê³  ìˆì—ˆì£ . ê·¸ê²ƒì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”.",
                            pain: "ì•„í””ì—ì„œ ë²—ì–´ë‚˜ê³  ì‹¶ì–´ ì‚¬ë¼ì§€ë ¤ í–ˆì§€ë§Œ, ê·¸ ì•„í””ì¡°ì°¨ ë‹¹ì‹ ì´ ì‚´ì•„ìˆë‹¤ëŠ” ì¦ê±°ì˜€ì–´ìš”. ê·¸ ìƒëª…ë ¥ì„ ì¸ì •í•´ë³´ì„¸ìš”.",
                            escape: "íƒˆì¶œí•˜ë ¤ í–ˆì§€ë§Œ, ì§„ì§œ ì•ˆì „í•œ ê³³ì€ ì™„ì „íˆ ìƒˆë¡œìš´ ê³³ì´ ì•„ë‹ˆë¼ ë‹¹ì‹  ìì‹  ì•ˆì— ìˆì„ì§€ë„ ëª°ë¼ìš”.",
                            hopeless: "í¬ë§ì´ ë³´ì´ì§€ ì•Šì•„ì„œ ëª¨ë“  ê±¸ ëë‚´ë ¤ í–ˆì§€ë§Œ, í¬ë§ì€ ë•Œë¡œ ê°€ì¥ ì–´ë‘ìš´ ê³³ì—ì„œ ì‹¹íŠ¸ëŠ” ë²•ì´ì—ìš”.",
                            burden: "ì§ì´ ë˜ê³  ì‹¶ì§€ ì•Šì•„ì„œ ìŠ¤ìŠ¤ë¡œë¥¼ ì œê±°í•˜ë ¤ í–ˆì§€ë§Œ, ë‹¹ì‹ ì˜ ì¡´ì¬ ìì²´ê°€ ëˆ„êµ°ê°€ì—ê²ŒëŠ” ë“ ë“ í•œ ê¸°ë‘¥ì´ì—ˆì„ ê±°ì˜ˆìš”.",
                            misunderstood: "ì´í•´ë°›ì§€ ëª»í•œë‹¤ê³  ì‚¬ë¼ì§€ë ¤ í–ˆì§€ë§Œ, ì™„ì „í•œ ì´í•´ëŠ” ì‹œê°„ì´ í•„ìš”í•œ ë²•ì´ì—ìš”. ê·¸ ì‹œê°„ì„ ê¸°ë‹¤ë ¤ë³¼ ê°€ì¹˜ê°€ ìˆì–´ìš”.",
                            general: "ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ëª¨ë“  ìˆœê°„ì—ë„, ë‹¹ì‹ ì„ ì—¬ê¸°ì— ë¨¸ë¬¼ê²Œ í•œ ë¬´ì–¸ê°€ê°€ ìˆì—ˆì–´ìš”. ê·¸ê²ƒì„ ì°¾ëŠ” ê²ƒì´ ë‹µì˜ ì‹œì‘ì¼ ê±°ì˜ˆìš”."
                        },
                        en: {
                            disappear: "Even in that moment you wanted to disappear, there were invisible threads keeping you anchored to this world. Try to slowly find what those were.",
                            alone: "Though you felt alone, your existence was deeply rooted in someone's world. Check those roots.",
                            invisible: "Being invisible doesn't mean being disconnected. You were surely positioned in someone's heart.",
                            silence: "You tried to disappear without words, but your silence itself would have been an important message to someone. Find that meaning.",
                            exhaustion: "You were tired and wanted to let go, but something kept holding onto you. It's important to know what that was.",
                            pain: "You tried to disappear to escape pain, but even that pain was proof you were alive. Acknowledge that life force.",
                            escape: "You tried to escape, but the truly safe place might not be somewhere completely new, but within yourself.",
                            hopeless: "You tried to end everything because you couldn't see hope, but hope sometimes sprouts in the darkest places.",
                            burden: "You tried to remove yourself because you didn't want to be a burden, but your very existence would have been a strong pillar for someone.",
                            misunderstood: "You tried to disappear because you weren't understood, but complete understanding takes time. It's worth waiting for that time.",
                            general: "Even in all those moments you wanted to disappear, there was something that made you stay here. Finding that will be the beginning of the answer."
                        },
                        pt: {
                            disappear: "Mesmo naquele momento que vocÃª quis desaparecer, havia fios invisÃ­veis mantendo vocÃª ancorado neste mundo. Tente encontrar lentamente o que eram esses fios.",
                            alone: "Embora vocÃª se sentisse sozinho, sua existÃªncia estava profundamente enraizada no mundo de alguÃ©m. Verifique essas raÃ­zes.",
                            invisible: "Ser invisÃ­vel nÃ£o significa estar desconectado. VocÃª certamente estava posicionado no coraÃ§Ã£o de alguÃ©m.",
                            silence: "VocÃª tentou desaparecer sem palavras, mas seu silÃªncio em si teria sido uma mensagem importante para alguÃ©m. Encontre esse significado.",
                            exhaustion: "VocÃª estava cansado e queria desistir, mas algo continuava te segurando. Ã‰ importante saber o que era isso.",
                            pain: "VocÃª tentou desaparecer para escapar da dor, mas mesmo essa dor era prova de que vocÃª estava vivo. ReconheÃ§a essa forÃ§a vital.",
                            escape: "VocÃª tentou escapar, mas o lugar verdadeiramente seguro pode nÃ£o ser em algum lugar completamente novo, mas dentro de vocÃª mesmo.",
                            hopeless: "VocÃª tentou acabar com tudo porque nÃ£o conseguia ver esperanÃ§a, mas a esperanÃ§a Ã s vezes brota nos lugares mais escuros.",
                            burden: "VocÃª tentou se remover porque nÃ£o queria ser um fardo, mas sua prÃ³pria existÃªncia teria sido um pilar forte para alguÃ©m.",
                            misunderstood: "VocÃª tentou desaparecer porque nÃ£o foi compreendido, mas compreensÃ£o completa leva tempo. Vale a pena esperar por esse tempo.",
                            general: "Mesmo em todos aqueles momentos que vocÃª quis desaparecer, havia algo que fez vocÃª ficar aqui. Encontrar isso serÃ¡ o comeÃ§o da resposta."
                        }
                    };
                    
                    return responses[lang][emotion] || responses[lang]['general'];
                }
            },
            {
                name: "Light", emoji: "ğŸ’¡",
                getResponse: (userInput, lang) => {
                    const emotion = analyzeEmotion(userInput);
                    
                    const responses = {
                        ko: {
                            disappear: "ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ê·¸ ë§ˆìŒì´, ì‚¬ì‹¤ì€ ë‹¤ì‹œ íƒœì–´ë‚˜ê³  ì‹¶ì—ˆë˜ ë§ˆìŒì˜ ë‹¤ë¥¸ ì´ë¦„ì´ì—ˆì„ì§€ë„ ëª°ë¼ìš”. ì™„ì „íˆ ìƒˆë¡œìš´ ì‹œì‘ì„ ì›í–ˆë˜ ê±°ì£ .",
                            alone: "í˜¼ìë¼ê³  ëŠê¼ˆë˜ ê·¸ ìˆœê°„ë“¤ì´ ëª¨ì—¬ì„œ, ì§€ê¸ˆì˜ ë…ë¦½ì ì´ê³  ê°•í•œ ë‹¹ì‹ ì„ ë§Œë“¤ì—ˆì–´ìš”. ê·¸ ê³ ë…ì´ ì„ ë¬¼í•´ì¤€ í˜ì„ ë°œê²¬í•´ë³´ì„¸ìš”.",
                            invisible: "ë³´ì´ì§€ ì•Šê³  ì‹¶ì—ˆë˜ ê±´, ì§„ì§œ ìì‹ ì„ ë³´ì—¬ì£¼ê¸° ì „ì— ì•ˆì „í•œ ê³µê°„ì´ í•„ìš”í–ˆë˜ ê±°ì˜ˆìš”. ì´ì œ ê·¸ ì§„ì§œ ëª¨ìŠµì„ ë“œëŸ¬ë‚¼ ë•Œê°€ ì™”ì–´ìš”.",
                            silence: "ì¡°ìš©íˆ ì‚¬ë¼ì§€ë ¤ í–ˆë˜ ê±´, ë” í° ëª©ì†Œë¦¬ë¡œ ëŒì•„ì˜¤ê¸° ìœ„í•œ ì¤€ë¹„ ì‹œê°„ì´ì—ˆì„ì§€ë„ ëª°ë¼ìš”. ì´ì œ ë§í•  ì¤€ë¹„ê°€ ë˜ì—ˆë‚˜ìš”?",
                            exhaustion: "ë„ˆë¬´ ì§€ì³ì„œ ë©ˆì¶”ê³  ì‹¶ì—ˆë˜ ê·¸ ìˆœê°„ì´, ìƒˆë¡œìš´ ì—ë„ˆì§€ë¥¼ ìœ„í•œ í•„ìš”í•œ íœ´ì‹ì´ì—ˆì–´ìš”. ì´ì œ ë‹¤ì‹œ ì‹œì‘í•  í˜ì´ ìƒê²¼ì„ ê±°ì˜ˆìš”.",
                            pain: "ì•„í””ì—ì„œ ë²—ì–´ë‚˜ê³  ì‹¶ì–´í–ˆë˜ ê·¸ ê°„ì ˆí•¨ì´, ì¹˜ìœ ì— ëŒ€í•œ ê¹Šì€ ì˜ì§€ì˜€ì–´ìš”. ê·¸ ì˜ì§€ê°€ ì§€ê¸ˆë„ ë‹¹ì‹  ì•ˆì—ì„œ ì‘ë™í•˜ê³  ìˆì–´ìš”.",
                            escape: "ë„ë§ì¹˜ê³  ì‹¶ì—ˆë˜ ê³³ì—ì„œ ë²—ì–´ë‚˜ë ¤ëŠ” ì‹œë„ê°€, ë” ë‚˜ì€ ê³³ì„ ì°¾ìœ¼ë ¤ëŠ” ìš©ê¸°ì˜€ì–´ìš”. ê·¸ ìš©ê¸°ë¡œ ìƒˆë¡œìš´ ê¸¸ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.",
                            hopeless: "ì ˆë§ ì†ì—ì„œë„ ëì„ ìƒê°í–ˆë‹¤ëŠ” ê±´, ì—¬ì „íˆ ë­”ê°€ë¥¼ ì›í•˜ê³  ìˆì—ˆë‹¤ëŠ” ëœ»ì´ì—ìš”. ê·¸ ì›í•˜ëŠ” ê²ƒì´ ë¬´ì—‡ì¸ì§€ ì°¾ì•„ë³´ì„¸ìš”.",
                            burden: "ì§ì´ ë˜ì§€ ì•Šìœ¼ë ¤ í–ˆë˜ ë§ˆìŒì´, ì‚¬ì‹¤ì€ ë‹¤ë¥¸ ì‚¬ëŒì„ ì‚¬ë‘í•˜ëŠ” ë§ˆìŒì´ì—ˆì–´ìš”. ê·¸ ì‚¬ë‘ì„ ì˜¬ë°”ë¥¸ ë°©ì‹ìœ¼ë¡œ í‘œí˜„í•´ë³´ì„¸ìš”.",
                            misunderstood: "ì´í•´ë°›ì§€ ëª»í•´ì„œ í¬ê¸°í•˜ë ¤ í–ˆë˜ ê±´, ì§„ì§œ ì†Œí†µì— ëŒ€í•œ ê°ˆë§ì´ì—ˆì–´ìš”. ê·¸ ê°ˆë§ì„ í¬ê¸°í•˜ì§€ ë§ê³  ë‹¤ë¥¸ ë°©ë²•ì„ ì‹œë„í•´ë³´ì„¸ìš”.",
                            general: "ì‚¬ë¼ì§€ê³  ì‹¶ì—ˆë˜ ëª¨ë“  ì´ìœ ë“¤ì´, ì‚¬ì‹¤ì€ ë” ë‚˜ì€ ì¡´ì¬ê°€ ë˜ê³  ì‹¶ì—ˆë˜ ì—´ë§ì˜ ë‹¤ë¥¸ í‘œí˜„ì´ì—ˆì–´ìš”. ê·¸ ì—´ë§ì„ ê¸ì •ì ì¸ ë°©í–¥ìœ¼ë¡œ í™œìš©í•´ë³´ì„¸ìš”."
                        },
                        en: {
                            disappear: "That desire to disappear might have been another name for wanting to be reborn. You wanted a completely new beginning.",
                            alone: "Those moments you felt alone came together to create the independent and strong you of today. Discover the strength that solitude gifted you.",
                            invisible: "Wanting to be invisible was needing a safe space before showing your real self. Now it's time to reveal that true appearance.",
                            silence: "Trying to disappear quietly might have been preparation time to return with a bigger voice. Are you ready to speak now?",
                            exhaustion: "That moment you were so tired you wanted to stop was necessary rest for new energy. You probably have the strength to start again now.",
                            pain: "That desperation to escape pain was a deep will for healing. That will is still operating within you now.",
                            escape: "The attempt to escape from where you wanted to run was courage to find a better place. Use that courage to create a new path.",
                            hopeless: "Thinking of an end even in despair means you still wanted something. Find what that something is.",
                            burden: "The heart that tried not to be a burden was actually a heart that loved others. Try expressing that love in the right way.",
                            misunderstood: "Trying to give up because you weren't understood was a longing for real communication. Don't give up that longing and try other methods.",
                            general: "All the reasons you wanted to disappear were actually different expressions of a desire to become a better being. Try using that desire in a positive direction."
                        },
                        pt: {
                            disappear: "Esse desejo de desaparecer pode ter sido outro nome para querer renascer. VocÃª queria um comeÃ§o completamente novo.",
                            alone: "Aqueles momentos que vocÃª se sentiu sozinho se juntaram para criar o vocÃª independente e forte de hoje. Descubra a forÃ§a que a solidÃ£o te presenteou.",
                            invisible: "Querer ser invisÃ­vel era precisar de um espaÃ§o seguro antes de mostrar seu verdadeiro eu. Agora Ã© hora de revelar essa aparÃªncia verdadeira.",
                            silence: "Tentar desaparecer silenciosamente pode ter sido tempo de preparaÃ§Ã£o para voltar com uma voz maior. VocÃª estÃ¡ pronto para falar agora?",
                            exhaustion: "Aquele momento que vocÃª estava tÃ£o cansado que quis parar foi descanso necessÃ¡rio para nova energia. VocÃª provavelmente tem forÃ§a para comeÃ§ar de novo agora.",
                            pain: "Esse desespero para escapar da dor era uma vontade profunda de cura. Essa vontade ainda estÃ¡ operando dentro de vocÃª agora.",
                            escape: "A tentativa de escapar de onde vocÃª queria fugir era coragem para encontrar um lugar melhor. Use essa coragem para criar um novo caminho.",
                            hopeless: "Pensar em um fim mesmo no desespero significa que vocÃª ainda queria algo. Encontre o que Ã© esse algo.",
                            burden: "O coraÃ§Ã£o que tentou nÃ£o ser um fardo era na verdade um coraÃ§Ã£o que amava outros. Tente expressar esse amor da maneira certa.",
                            misunderstood: "Tentar desistir porque vocÃª nÃ£o foi compreendido era um anseio por comunicaÃ§Ã£o real. NÃ£o desista desse anseio e tente outros mÃ©todos.",
                            general: "Todas as razÃµes que vocÃª quis desaparecer eram na verdade diferentes expressÃµes de um desejo de se tornar um ser melhor. Tente usar esse desejo em uma direÃ§Ã£o positiva."
                        }
                    };
                    
                    return responses[lang][emotion] || responses[lang]['general'];
                }
            }
        ];
        
        let currentLanguage = 'en'; // ê¸°ë³¸ ì–¸ì–´ë¥¼ ì˜ì–´ë¡œ ì„¤ì •
        let currentUser = null;
        let userResponse = '';
        let journeyStarted = false;
        let currentTypingElement = null;
        let typingIntervals = [];
        
        // ============ ì—¬ì • ì´ˆê¸°í™” í•¨ìˆ˜ ============
        
        function resetJourney() {
            console.log('=== ì—¬ì • ì´ˆê¸°í™” ì‹œì‘ ===');
            
            // 1. ëª¨ë“  íƒ€ì´í•‘ íš¨ê³¼ ì™„ì „ ì •ë¦¬
            clearAllTypingEffects();
            
            // ì¶”ê°€ ì•ˆì „ì¥ì¹˜ - ëª¨ë“  timer ì •ë¦¬
            for (let i = 1; i < 99999; i++) window.clearInterval(i);
            for (let i = 1; i < 99999; i++) window.clearTimeout(i);
            
            // 2. ëª¨ë“  ì½˜í…ì¸  ì„¹ì…˜ ì™„ì „ ì´ˆê¸°í™”
            const sectionsToReset = [
                'portalIntroSection',
                'characterResponsesSection', 
                'lightMessageSection',
                'portalQuestionSection',
                'userInputSection',
                'userReactionsSection',
                'continueSection'
            ];
            
            sectionsToReset.forEach(sectionId => {
                const section = document.getElementById(sectionId);
                if (section) {
                    section.classList.remove('show');
                    section.style.opacity = '0';
                    
                    if (sectionId === 'characterResponsesSection' || 
                        sectionId === 'userInputSection' || 
                        sectionId === 'userReactionsSection') {
                        section.innerHTML = '';
                    } else {
                        const textElements = section.querySelectorAll('.portal-intro, .light-message, .portal-question, .continue-text');
                        textElements.forEach(el => {
                            el.innerHTML = '';
                            el.textContent = '';
                        });
                    }
                }
            });
            
            // 3. íŠ¹ì • ìš”ì†Œë“¤ ê°œë³„ ì´ˆê¸°í™”
            const portalIntro = document.getElementById('portalIntro');
            const lightMessage = document.getElementById('lightMessage');
            const portalQuestion = document.getElementById('portalQuestion');
            const continueText = document.getElementById('continueText');
            
            if (portalIntro) portalIntro.innerHTML = '';
            if (lightMessage) lightMessage.innerHTML = '';
            if (portalQuestion) portalQuestion.innerHTML = '';
            if (continueText) continueText.innerHTML = '';
            
            // 4. í…ìŠ¤íŠ¸ì˜ì—­ ì™„ì „ ì´ˆê¸°í™”
            const userTextarea = document.getElementById('userTextarea');
            if (userTextarea) {
                userTextarea.disabled = false;
                userTextarea.value = '';
                userTextarea.style.height = 'auto';
                userTextarea.placeholder = translations[currentLanguage].inputPlaceholder;
            }
            
            // 5. ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ˆê¸°í™”
            const mainContent = document.getElementById('mainContent');
            if (mainContent) {
                mainContent.scrollTop = 0;
            }
            
            // 6. ìƒíƒœ ë³€ìˆ˜ ì™„ì „ ì´ˆê¸°í™”
            userResponse = '';
            currentTypingElement = null;
            
            console.log('=== ì—¬ì • ì´ˆê¸°í™” ì™„ë£Œ ===');
        }
        
        // ============ ê°œì„ ëœ ì–¸ì–´ ë³€ê²½ í•¨ìˆ˜ ============
        
        function changeLanguage(lang) {
            if (!translations[lang]) {
                console.error('ì§€ì›í•˜ì§€ ì•ŠëŠ” ì–¸ì–´:', lang);
                return;
            }
            
            if (currentLanguage === lang) {
                return;
            }
            
            if (journeyStarted) {
                const confirmMessage = translations[currentLanguage].languageChangeConfirm;
                const shouldRestart = confirm(confirmMessage);
                
                if (!shouldRestart) {
                    return;
                }
            }
            
            const previousLanguage = currentLanguage;
            currentLanguage = lang;
            
            console.log(`ì–¸ì–´ ë³€ê²½: ${previousLanguage} â†’ ${currentLanguage}`);
            
            if (journeyStarted) {
                resetJourney();
            }
            
            updateLanguageButtons(lang);
            updateStaticTranslations(lang);
            
            if (journeyStarted) {
                setTimeout(() => {
                    console.log(`ìƒˆë¡œìš´ ì–¸ì–´(${currentLanguage})ë¡œ ì—¬ì • ì¬ì‹œì‘`);
                    startPortalSequence();
                }, 1000);
            }
        }
        
        // ============ UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤ ============
        
        function updateLanguageButtons(lang) {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                }
            });
        }
        
        function updateStaticTranslations(lang) {
            // ê°œë³„ ìš”ì†Œ ì—…ë°ì´íŠ¸
            const elements = [
                'logoSubtitle',
                'portalMainTitle', 
                'portalSubtitle',
                'lightTitle',
                'continueYesBtn',
                'continueNoBtn'
            ];
            
            elements.forEach(elementId => {
                const element = document.getElementById(elementId);
                if (element && translations[lang]) {
                    const key = elementId.replace('Btn', 'Button').replace('Subtitle', 'Subtitle');
                    let translationKey = key;
                    
                    const keyMapping = {
                        'logoSubtitle': 'logoSubtitle',
                        'portalMainTitle': 'portalMainTitle',
                        'portalSubtitle': 'portalSubtitle',
                        'lightTitle': 'lightTitle',
                        'continueYesButton': 'continueYes',
                        'continueNoButton': 'continueNo'
                    };
                    
                    translationKey = keyMapping[key] || key;
                    
                    if (translations[lang][translationKey]) {
                        element.textContent = translations[lang][translationKey];
                    }
                }
            });
            
            // placeholder ì—…ë°ì´íŠ¸
            const textarea = document.getElementById('userTextarea');
            if (textarea) textarea.placeholder = translations[lang].inputPlaceholder;
        }
        
        // ============ ê°œì„ ëœ íƒ€ì´í•‘ íš¨ê³¼ + ìŠ¤í¬ë¡¤ ì¶”ì  ì‹œìŠ¤í…œ ============
        
        function typewriterEffect(element, text, speed = 80) {
            return new Promise((resolve) => {
                if (currentTypingElement) {
                    currentTypingElement.classList.remove('typing-cursor');
                }
                
                let i = 0;
                element.innerHTML = '';
                element.classList.add('typing-cursor');
                currentTypingElement = element;
                
                const typingInterval = setInterval(() => {
                    if (!document.contains(element)) {
                        clearInterval(typingInterval);
                        resolve();
                        return;
                    }
                    
                    element.innerHTML += text.charAt(i);
                    i++;
                    
                    if (i % 10 === 0) {
                        scrollToFollowTyping(element);
                    }
                    
                    if (i === text.length) {
                        clearInterval(typingInterval);
                        element.classList.remove('typing-cursor');
                        currentTypingElement = null;
                        
                        setTimeout(() => {
                            if (document.contains(element)) {
                                scrollToFollowTyping(element);
                            }
                        }, 200);
                        
                        resolve();
                    }
                }, speed);
                
                typingIntervals.push(typingInterval);
            });
        }
        
        function clearAllTypingEffects() {
            typingIntervals.forEach(interval => clearInterval(interval));
            typingIntervals = [];
            
            if (currentTypingElement) {
                currentTypingElement.classList.remove('typing-cursor');
                currentTypingElement = null;
            }
        }
        
        // ============ ìŠ¤ë§ˆíŠ¸ ìŠ¤í¬ë¡¤ ì‹œìŠ¤í…œ ============
        
        function scrollToFollowTyping(element) {
            const mainContent = document.getElementById('mainContent');
            const elementRect = element.getBoundingClientRect();
            const containerRect = mainContent.getBoundingClientRect();
            
            if (elementRect.bottom > containerRect.bottom - 150) {
                const scrollTop = mainContent.scrollTop;
                const elementOffsetTop = element.offsetTop;
                const targetScroll = elementOffsetTop - (containerRect.height / 2);
                
                mainContent.scrollTo({
                    top: Math.max(0, targetScroll),
                    behavior: 'smooth'
                });
            }
        }
        
        function scrollToElement(element) {
            const mainContent = document.getElementById('mainContent');
            const elementOffsetTop = element.offsetTop;
            const containerHeight = mainContent.clientHeight;
            const targetScroll = elementOffsetTop - (containerHeight / 3);
            
            mainContent.scrollTo({
                top: Math.max(0, targetScroll),
                behavior: 'smooth'
            });
        }
        
        // ============ ì–¸ì–´ ë²„íŠ¼ ì´ë²¤íŠ¸ ì„¤ì • ============
        
        function setupLanguageButtons() {
            const langButtons = document.querySelectorAll('.lang-btn');
            
            langButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const newLang = this.dataset.lang;
                    changeLanguage(newLang);
                });
            });
        }
        
        // ============ ë©”ì¸ ì—¬ì • ì‹œìŠ¤í…œ ============
        
        function initializeTemarix() {
            console.log('=== Temarix Portal 10 ì´ˆê¸°í™” ì‹œì‘ ===');
            
            setupLanguageButtons();
            setupTextareaAutoResize();
            setupInputEvents();
            
            journeyStarted = true;
            
            setTimeout(() => {
                startPortalSequence();
            }, 1000);
        }
        
        function startPortalSequence() {
            setTimeout(() => {
                showIntro();
            }, 1000);
        }
        
        // ============ ì—¬ì • ë‹¨ê³„ë“¤ ============
        
        async function showIntro() {
            const introSection = document.getElementById('portalIntroSection');
            const introElement = document.getElementById('portalIntro');
            
            introSection.classList.add('show');
            
            const introText = translations[currentLanguage].portalIntro;
            await typewriterEffect(introElement, introText, 60);
            
            setTimeout(() => {
                showCharacterResponses();
            }, 2000);
        }
        
        async function showCharacterResponses() {
            const responseSection = document.getElementById('characterResponsesSection');
            
            responseSection.classList.add('show');
            
            for (let i = 0; i < characters.length; i++) {
                const char = characters[i];
                const responseDiv = document.createElement('div');
                responseDiv.className = 'character-response';
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'character-name';
                nameDiv.textContent = `${char.emoji} ${char.name}`;
                
                const dialogueDiv = document.createElement('div');
                dialogueDiv.className = 'character-dialogue';
                
                responseDiv.appendChild(nameDiv);
                responseDiv.appendChild(dialogueDiv);
                responseSection.appendChild(responseDiv);
                
                responseDiv.style.opacity = '1';
                
                const dialogueText = translations[currentLanguage][char.key];
                await typewriterEffect(dialogueDiv, dialogueText, 70);
                
                if (i < characters.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 1500));
                }
            }
            
            setTimeout(() => {
                showLightMessage();
            }, 2000);
        }
        
        async function showLightMessage() {
            const lightSection = document.getElementById('lightMessageSection');
            const lightMessageEl = document.getElementById('lightMessage');
            
            lightSection.classList.add('show');
            
            const lightText = translations[currentLanguage].lightMessage;
            await typewriterEffect(lightMessageEl, lightText, 60);
            
            setTimeout(() => {
                showQuestion();
            }, 2000);
        }
        
        async function showQuestion() {
            const questionSection = document.getElementById('portalQuestionSection');
            const questionEl = document.getElementById('portalQuestion');
            
            questionSection.classList.add('show');
            
            const questionText = translations[currentLanguage].portalQuestion;
            await typewriterEffect(questionEl, questionText, 50);
            
            setTimeout(() => {
                enableUserInput();
            }, 1500);
        }
        
        // ============ ì‚¬ìš©ì ì…ë ¥ ì‹œìŠ¤í…œ ============
        
        function setupInputEvents() {
            const userTextarea = document.getElementById('userTextarea');
            
            userTextarea.addEventListener('keydown', handleTextareaKeydown);
            
            document.getElementById('continueYesBtn').addEventListener('click', function() {
                processContinue('Y');
            });
            
            document.getElementById('continueNoBtn').addEventListener('click', function() {
                processContinue('N');
            });
        }
        
        function handleTextareaKeydown(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                const inputValue = this.value.trim();
                
                if (inputValue) {
                    processUserInput(inputValue);
                }
            }
        }
        
        function setupTextareaAutoResize() {
            const textarea = document.getElementById('userTextarea');
            
            textarea.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 96) + 'px';
            });
        }
        
        async function processUserInput(inputText) {
            userResponse = inputText;
            disableUserInput();
            showUserResponse(inputText);
            
            setTimeout(() => {
                showUserReactions(inputText);
            }, 1000);
        }
        
        function disableUserInput() {
            const userTextarea = document.getElementById('userTextarea');
            userTextarea.disabled = true;
            userTextarea.value = '';
            userTextarea.style.height = 'auto';
            
            userTextarea.placeholder = translations[currentLanguage].waitingMessage;
        }
        
        function enableUserInput() {
            const userTextarea = document.getElementById('userTextarea');
            userTextarea.disabled = false;
            userTextarea.placeholder = translations[currentLanguage].inputPlaceholder;
            
            setTimeout(() => {
                userTextarea.focus();
            }, 100);
        }
        
        function showUserResponse(text) {
            const inputSection = document.getElementById('userInputSection');
            const userDiv = document.createElement('div');
            userDiv.className = 'user-response';
            const youLabel = translations[currentLanguage].youLabel;
            userDiv.innerHTML = `<strong>${youLabel}:</strong> "${text}"`;
            inputSection.appendChild(userDiv);
            inputSection.classList.add('show');
            
            setTimeout(() => {
                scrollToElement(inputSection);
            }, 100);
        }
        
        async function showUserReactions(userInput) {
            const reactionsSection = document.getElementById('userReactionsSection');
            
            reactionsSection.classList.add('show');
            
            for (let i = 0; i < responseCharacters.length; i++) {
                const char = responseCharacters[i];
                const responseDiv = document.createElement('div');
                responseDiv.className = 'character-response';
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'character-name';
                nameDiv.textContent = `${char.emoji} ${char.name}`;
                
                const dialogueDiv = document.createElement('div');
                dialogueDiv.className = 'character-dialogue';
                
                responseDiv.appendChild(nameDiv);
                responseDiv.appendChild(dialogueDiv);
                reactionsSection.appendChild(responseDiv);
                
                responseDiv.style.opacity = '1';
                
                const reactionText = char.getResponse(userInput, currentLanguage);
                await typewriterEffect(dialogueDiv, reactionText, 70);
                
                if (i < responseCharacters.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 1500));
                }
            }
            
            setTimeout(() => {
                showContinueOption();
            }, 2000);
        }
        
        async function showContinueOption() {
            const continueSection = document.getElementById('continueSection');
            const continueText = document.getElementById('continueText');
            
            continueSection.classList.add('show');
            
            const questionText = translations[currentLanguage].continueText;
            await typewriterEffect(continueText, questionText, 50);
            
            setTimeout(() => {
                scrollToElement(continueSection);
            }, 500);
        }
        
        function processContinue(input) {
            if (input === 'Y') {
                const message = currentLanguage === 'ko' ? 
                    'Portal 11ì´ ê³§ ì¤€ë¹„ë©ë‹ˆë‹¤. ê³„ì†í•´ì„œ ë” ê¹Šì€ ê°ì •ì˜ ì—¬ì •ì´ ì´ì–´ì§‘ë‹ˆë‹¤.' :
                    currentLanguage === 'en' ? 
                    'Portal 11 will be ready soon. The journey into deeper emotions continues.' :
                    'Portal 11 estarÃ¡ pronto em breve. A jornada para emoÃ§Ãµes mais profundas continua.';
                alert(message);
            } else if (input === 'N') {
                const message = currentLanguage === 'ko' ? 
                    'ì—¬ì •ì´ ì¼ì‹œ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. ì–¸ì œë“  ë‹¤ì‹œ ëŒì•„ì™€ ê³„ì†í•˜ì„¸ìš”.' :
                    currentLanguage === 'en' ? 
                    'The journey has been paused. Come back and continue anytime.' :
                    'A jornada foi pausada. Volte e continue a qualquer momento.';
                alert(message);
            }
        }
        
        // ============ ì´ˆê¸°í™” ============
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Temarix V2 Portal 10 DOM ë¡œë“œ ì™„ë£Œ');
            
            // ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬ (ë¡œê·¸ì¸ ëª¨ë‹¬ ì œê±°)
            currentUser = { 
                uid: 'user-auto-' + Date.now(),
                email: 'auto@temarix.com'
            };
            
            memoryStorage.mockUser = currentUser;
            
            updateStaticTranslations(currentLanguage);
            initializeTemarix();
        });
    </script>
</body>
</html>